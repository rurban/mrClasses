<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mrClasses: mrRman_macros.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>mrRman_macros.h File Reference</h1>
<p>
<a href="mrRman__macros_8h-source.html">Go to the source code of this file.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a0">Ci</a>&nbsp;&nbsp;&nbsp;(*result)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">color, needs shader to use color* result in definition  <a href="#a0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a1">Oi</a>&nbsp;&nbsp;&nbsp;(result-&gt;a)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">opacity when in rapid motion, alpha when not.  <a href="#a1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a2">E</a>&nbsp;&nbsp;&nbsp;(state-&gt;org)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">origin of the ray/camera  <a href="#a2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a3">P</a>&nbsp;&nbsp;&nbsp;(state-&gt;point)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">point being shaded  <a href="#a3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a4">N</a>&nbsp;&nbsp;&nbsp;(state-&gt;normal)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">interpolated normal (already normalized usually)  <a href="#a4"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a5">Ng</a>&nbsp;&nbsp;&nbsp;(state-&gt;normal_geom)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">geometric normal (already normalized usually)  <a href="#a5"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a6">I</a>&nbsp;&nbsp;&nbsp;(state-&gt;dir)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Note that state-&gt;dir is both I and rayinfo("dir").  <a href="#a6"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a7">dPdu</a>&nbsp;&nbsp;&nbsp;(state-&gt;bump_list[0])</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">dPdu is available only for surfaces.  <a href="#a7"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a8">dPdv</a>&nbsp;&nbsp;&nbsp;(state-&gt;bump_list[1])</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">dPdv is available only for surfaces.  <a href="#a8"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a9">u</a>&nbsp;&nbsp;&nbsp;(state-&gt;tex_list[0].x)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">s and u, v and t are equal in mray, as mray has no u,v.  <a href="#a9"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a10">v</a>&nbsp;&nbsp;&nbsp;(state-&gt;tex_list[0].y)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">s and u, v and t are equal in mray, as mray has no u,v.  <a href="#a10"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a11">ncomps</a>&nbsp;&nbsp;&nbsp;(4)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of components in a color  <a href="#a11"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a12">time</a>&nbsp;&nbsp;&nbsp;(state-&gt;time)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">time of ray  <a href="#a12"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a13">Ol</a>&nbsp;&nbsp;&nbsp;(Cl.a)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">opacity (alpha) of light  <a href="#a13"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a14">dPdtime</a>&nbsp;&nbsp;&nbsp;(state-&gt;motion)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">motion vector during shutter  <a href="#a14"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a15">mr_get_array</a>(iType, iParams, iName)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a16">illuminance</a>(iParams)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a17">illuminancePI</a>(iParams)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a18">illuminance2</a>(iParams, iLights)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a19">illuminance2PI</a>(iParams)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="mrRman__macros_8h.html#a20">samplelight</a>(iState)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="a0" doxytag="mrRman_macros.h::Ci" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define Ci&nbsp;&nbsp;&nbsp;(*result)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
color, needs shader to use color* result in definition 
<p>
<a class="el" href="mrRman__macros_8h.html">mrRman_macros.h</a><p>
Make sure this is the LAST include you use, as these macros will easily corrupt any other file included afterwards. Also, make sure you DO NOT use any variables with the names of prman built-in variables (s,t,N,P,Ci,etc.)     </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="mrRman_macros.h::dPdtime" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define dPdtime&nbsp;&nbsp;&nbsp;(state-&gt;motion)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
motion vector during shutter 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="mrRman_macros.h::dPdu" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define dPdu&nbsp;&nbsp;&nbsp;(state-&gt;bump_list[0])
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
dPdu is available only for surfaces. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="mrRman_macros.h::dPdv" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define dPdv&nbsp;&nbsp;&nbsp;(state-&gt;bump_list[1])
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
dPdv is available only for surfaces. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="mrRman_macros.h::E" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define E&nbsp;&nbsp;&nbsp;(state-&gt;org)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
origin of the ray/camera 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="mrRman_macros.h::I" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define I&nbsp;&nbsp;&nbsp;(state-&gt;dir)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Note that state-&gt;dir is both I and rayinfo("dir"). 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="mrRman_macros.h::illuminance" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define illuminance</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">iParams&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre><a class="code" href="mrRman__macros_8h.html#a15">mr_get_array</a>( miTag, iParams, lights ); \
    <a class="code" href="structmr_1_1color.html">mr::color</a> Cl( kNoInit ); miScalar NdL; <a class="code" href="structmr_1_1vec__base.html">mr::vector</a> L( kNoInit ); \
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lgt = 0; lgt &lt; n_lights; ++lgt)
</pre></div>Pass one parameters to illuminance, to sample iParams-&gt;lights. Sample lights only in front of normal.     </td>
  </tr>
</table>
<a class="anchor" name="a18" doxytag="mrRman_macros.h::illuminance2" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define illuminance2</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">iParams,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>iLights&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre><a class="code" href="mrRman__macros_8h.html#a15">mr_get_array</a>( miTag, iParams, iLights ); \
    <a class="code" href="structmr_1_1color.html">mr::color</a> Cl( kNoInit ); miScalar NdL; <a class="code" href="structmr_1_1vec__base.html">mr::vector</a> L( kNoInit ); \
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lgt = 0; lgt &lt; n_lights; ++lgt)
</pre></div>Pass two parameters to illuminance, to sample iParams-&gt;iLights. Sample lights only in front of normal.     </td>
  </tr>
</table>
<a class="anchor" name="a19" doxytag="mrRman_macros.h::illuminance2PI" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define illuminance2PI</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">iParams&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre><a class="code" href="mrRman__macros_8h.html#a15">mr_get_array</a>( miTag, iParams, lights ); \
    <span class="keywordtype">void</span>*   pri = state-&gt;pri; \
    state-&gt;pri  = NULL; \
    <a class="code" href="structmr_1_1color.html">mr::color</a> Cl( kNoInit ); miScalar NdL; <a class="code" href="structmr_1_1vec__base.html">mr::vector</a> L( kNoInit ); \
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lgt = 0; lgt &lt; n_lights; ++lgt)
</pre></div>Pass one parameters to illuminance, to sample iParams-&gt;lights. Sample lights in front and behind normal.     </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="mrRman_macros.h::illuminancePI" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define illuminancePI</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">iParams&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre><a class="code" href="mrRman__macros_8h.html#a15">mr_get_array</a>( miTag, iParams, lights ); \
    <span class="keywordtype">void</span>*   pri = state-&gt;pri; \
    state-&gt;pri  = NULL; \
    <a class="code" href="structmr_1_1color.html">mr::color</a> Cl( kNoInit ); miScalar NdL; <a class="code" href="structmr_1_1vec__base.html">mr::vector</a> L( kNoInit ); \
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lgt = 0; lgt &lt; n_lights; ++lgt)
</pre></div>Pass one parameters to illuminance, to sample iParams-&gt;lights. Sample lights in front and behind normal.     </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="mrRman_macros.h::mr_get_array" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define mr_get_array</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">iType,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>iParams,         <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>iName&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre>miInteger i_ ## iName = *mi_eval_integer( iParams-&gt;i_ ## iName ); \
    miInteger n_ ## iName = *mi_eval_integer( iParams-&gt;n_ ## iName ); \
    <span class="keyword">const</span> iType*    iName = <a class="code" href="mrParameters_8h.html#a1">mr_eval</a>( iParams-&gt; ## iName ) + i_ ## iName;
</pre></div>Simple function to get an array of anything from a mray parameter definition     </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="mrRman_macros.h::N" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define N&nbsp;&nbsp;&nbsp;(state-&gt;normal)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
interpolated normal (already normalized usually) 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="mrRman_macros.h::ncomps" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define ncomps&nbsp;&nbsp;&nbsp;(4)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
number of components in a color 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="mrRman_macros.h::Ng" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define Ng&nbsp;&nbsp;&nbsp;(state-&gt;normal_geom)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
geometric normal (already normalized usually) 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="mrRman_macros.h::Oi" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define Oi&nbsp;&nbsp;&nbsp;(result-&gt;a)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
opacity when in rapid motion, alpha when not. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="mrRman_macros.h::Ol" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define Ol&nbsp;&nbsp;&nbsp;(Cl.a)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
opacity (alpha) of light 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="mrRman_macros.h::P" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define P&nbsp;&nbsp;&nbsp;(state-&gt;point)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
point being shaded 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a20" doxytag="mrRman_macros.h::samplelight" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define samplelight</td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">iState&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre>miInteger samples = 0; \
    <span class="keywordflow">while</span>( mi_sample_light( &amp;Cl, &amp;L, &amp;NdL, iState, lights[lgt], &amp;samples ) )
</pre></div>Simple macro to sample a light within an illuminance loop.<p>
<div class="fragment"><pre>     <a class="code" href="mrRman__macros_8h.html#a16">illuminance</a>( params )
     {
             <a class="code" href="mrRman__macros_8h.html#a20">samplelight</a>( state )
             {
             .... <span class="keywordflow">do</span> stuff with usual prman variables (Cl, L, etc.) here.
             .... note that unlike prman, L is normalized already and
             .... NdL already contains <a class="code" href="mrRman__macros_8h.html#a4">N</a>.L unless illuminancePI is used. */
<span class="comment">//           .... (like in volume shader).</span>
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="mrRman_macros.h::time" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define time&nbsp;&nbsp;&nbsp;(state-&gt;time)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
time of ray 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="mrRman_macros.h::u" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define u&nbsp;&nbsp;&nbsp;(state-&gt;tex_list[0].x)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
s and u, v and t are equal in mray, as mray has no u,v. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="a10" doxytag="mrRman_macros.h::v" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define v&nbsp;&nbsp;&nbsp;(state-&gt;tex_list[0].y)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
s and u, v and t are equal in mray, as mray has no u,v. 
<p>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sun Feb 22 18:29:25 2004 for mrClasses by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>

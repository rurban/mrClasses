<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mrClasses: mrOperators.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>mrOperators.h</h1><a href="mrOperators_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//</span>
00002 <span class="comment">//  Copyright (c) 2004, Gonzalo Garramuno</span>
00003 <span class="comment">//</span>
00004 <span class="comment">//  All rights reserved.</span>
00005 <span class="comment">//</span>
00006 <span class="comment">//  Redistribution and use in source and binary forms, with or without</span>
00007 <span class="comment">//  modification, are permitted provided that the following conditions are</span>
00008 <span class="comment">//  met:</span>
00009 <span class="comment">//  *       Redistributions of source code must retain the above copyright</span>
00010 <span class="comment">//  notice, this list of conditions and the following disclaimer.</span>
00011 <span class="comment">//  *       Redistributions in binary form must reproduce the above</span>
00012 <span class="comment">//  copyright notice, this list of conditions and the following disclaimer</span>
00013 <span class="comment">//  in the documentation and/or other materials provided with the</span>
00014 <span class="comment">//  distribution.</span>
00015 <span class="comment">//  *       Neither the name of Gonzalo Garramuno nor the names of</span>
00016 <span class="comment">//  its other contributors may be used to endorse or promote products derived</span>
00017 <span class="comment">//  from this software without specific prior written permission. </span>
00018 <span class="comment">//</span>
00019 <span class="comment">//  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
00020 <span class="comment">//  "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
00021 <span class="comment">//  LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
00022 <span class="comment">//  A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
00023 <span class="comment">//  OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
00024 <span class="comment">//  SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
00025 <span class="comment">//  LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
00026 <span class="comment">//  DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
00027 <span class="comment">//  THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
00028 <span class="comment">//  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
00029 <span class="comment">//  OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00030 <span class="comment">//</span>
00031 
00036 
00037 <span class="preprocessor">#ifndef mrOperators_h</span>
00038 <span class="preprocessor"></span><span class="preprocessor">#define mrOperators_h</span>
00039 <span class="preprocessor"></span>
00040 
00041 <span class="preprocessor">#ifndef mrAssert_h</span>
00042 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="mrAssert_8h.html">mrAssert.h</a>"</span>
00043 <span class="preprocessor">#endif</span>
00044 <span class="preprocessor"></span>
00045 <span class="preprocessor">#ifndef mrPlatform_h</span>
00046 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="mrPlatform_8h.html">mrPlatform.h</a>"</span>
00047 <span class="preprocessor">#endif</span>
00048 <span class="preprocessor"></span>
00049 <span class="preprocessor">#ifndef mrBase_h</span>
00050 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="mrBase_8h.html">mrBase.h</a>"</span>
00051 <span class="preprocessor">#endif</span>
00052 <span class="preprocessor"></span>
00053 
00054 <span class="preprocessor">#ifdef MR_DEBUG</span>
00055 <span class="preprocessor"></span><span class="preprocessor">#define CHECK_NANS \</span>
00056 <span class="preprocessor">   mrASSERT( !ISNAN(c.r) ); \</span>
00057 <span class="preprocessor">   mrASSERT( !ISNAN(c.g) ); \</span>
00058 <span class="preprocessor">   mrASSERT( !ISNAN(c.b) );</span>
00059 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00060"></a><a class="code" href="mrOperators_8h.html#a0">00060</a> <span class="preprocessor"></span><span class="preprocessor">#define CHECK_NANS</span>
00061 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00062 <span class="preprocessor"></span>
<a name="l00063"></a><a class="code" href="mrOperators_8h.html#a1">00063</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrProfile_8h.html#a2">operator-</a>( <span class="keyword">const</span> miColor&amp; x )
00064 {
00065    miColor c = { -x.r, -x.g, -x.b, x.a };
00066    <span class="keywordflow">return</span> c;
00067 }
00068 
<a name="l00069"></a><a class="code" href="mrOperators_8h.html#a2">00069</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrProfile_8h.html#a1">operator+</a>( <span class="keyword">const</span> miColor&amp; a, <span class="keyword">const</span> miColor&amp; b )
00070 {
00071   miColor c = { a.r + b.r, a.g + b.g, a.b + b.b };
00072   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> c;
00073 }
00074 
<a name="l00075"></a><a class="code" href="mrOperators_8h.html#a3">00075</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrProfile_8h.html#a1">operator+</a>( <span class="keyword">const</span> miColor&amp; a, <span class="keyword">const</span> miScalar b )
00076 {
00077   miColor c = { a.r + b, a.g + b, a.b + b };
00078   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> c;
00079 }
00080 
00081 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00082"></a><a class="code" href="mrOperators_8h.html#a4">00082</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrProfile_8h.html#a1">operator+</a>( <span class="keyword">const</span> miColor&amp; a,
00083                             <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00084 {
00085   miColor c = { a.r + b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0), a.g + b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1),
00086                 a.b + b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) };
00087   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> c;
00088 }
00089 
00090 
<a name="l00091"></a><a class="code" href="mrOperators_8h.html#a5">00091</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrProfile_8h.html#a2">operator-</a>( <span class="keyword">const</span> miColor&amp; a, <span class="keyword">const</span> miColor&amp; b )
00092 {
00093   miColor c = { a.r - b.r, a.g - b.g, a.b - b.b };
00094   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> c;
00095 }
00096 
<a name="l00097"></a><a class="code" href="mrOperators_8h.html#a6">00097</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrProfile_8h.html#a2">operator-</a>( <span class="keyword">const</span> miColor&amp; a, <span class="keyword">const</span> miScalar b )
00098 {
00099   miColor c = { a.r - b, a.g - b, a.b - b };
00100   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> c;
00101 }
00102 
00103 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00104"></a><a class="code" href="mrOperators_8h.html#a7">00104</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrProfile_8h.html#a2">operator-</a>( <span class="keyword">const</span> miColor&amp; a,
00105                             <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00106 {
00107   miColor c = { a.r - b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0), a.g - b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1),
00108                 a.b - b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) };
00109   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> c;
00110 }
00111 
00112 
<a name="l00113"></a><a class="code" href="mrOperators_8h.html#a8">00113</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrOperators_8h.html#a68">operator*</a>( <span class="keyword">const</span> miColor&amp; a, <span class="keyword">const</span> miColor&amp; b )
00114 {
00115   miColor c = { a.r * b.r, a.g * b.g, a.b * b.b };
00116   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> c;
00117 }
00118 
<a name="l00119"></a><a class="code" href="mrOperators_8h.html#a9">00119</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrOperators_8h.html#a68">operator*</a>( <span class="keyword">const</span> miScalar b, <span class="keyword">const</span> miColor&amp; a )
00120 {
00121   miColor c = { a.r * b, a.g * b, a.b * b };
00122   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> c;
00123 }
00124 
<a name="l00125"></a><a class="code" href="mrOperators_8h.html#a10">00125</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrOperators_8h.html#a68">operator*</a>( <span class="keyword">const</span> miColor&amp; a, <span class="keyword">const</span> miScalar b )
00126 {
00127   miColor c = { a.r * b, a.g * b, a.b * b };
00128   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> c;
00129 }
00130 
00131 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00132"></a><a class="code" href="mrOperators_8h.html#a11">00132</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrOperators_8h.html#a68">operator*</a>( <span class="keyword">const</span> miColor&amp; a,
00133                             <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00134 {
00135   miColor c = { a.r * b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0), a.g * b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1),
00136                 a.b * b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) };
00137   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> c;
00138 }
00139 
00140 
<a name="l00141"></a><a class="code" href="mrOperators_8h.html#a12">00141</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrOperators_8h.html#a70">operator/</a>( <span class="keyword">const</span> miColor&amp; a, <span class="keyword">const</span> miColor&amp; b )
00142 {
00143   miColor c = { a.r / b.r, a.g / b.g, a.b / b.b };
00144   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> c;
00145 }
00146 
<a name="l00147"></a><a class="code" href="mrOperators_8h.html#a13">00147</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrOperators_8h.html#a70">operator/</a>( <span class="keyword">const</span> miColor&amp; a, <span class="keyword">const</span> miScalar&amp; b )
00148 {
00149   <span class="keyword">register</span> miScalar t = 1.0f / b;
00150   <span class="keywordflow">return</span> a * t;
00151 }
00152 
00153 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00154"></a><a class="code" href="mrOperators_8h.html#a14">00154</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrOperators_8h.html#a70">operator/</a>( <span class="keyword">const</span> miColor&amp; a,
00155                             <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00156 {
00157   miColor c = { a.r / b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0), a.g / b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1),
00158                 a.b / b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) };
00159   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> c;
00160 }
00161 
00162 
00163 
00164 <span class="preprocessor">#ifdef MR_DEBUG</span>
00165 <span class="preprocessor"></span><span class="preprocessor">#undef CHECK_NANS</span>
00166 <span class="preprocessor"></span><span class="preprocessor">#define CHECK_NANS \</span>
00167 <span class="preprocessor">   mrASSERT( !ISNAN(a.r) ); \</span>
00168 <span class="preprocessor">   mrASSERT( !ISNAN(a.g) ); \</span>
00169 <span class="preprocessor">   mrASSERT( !ISNAN(a.b) ); </span>
00170 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00171 <span class="preprocessor"></span>
<a name="l00173"></a><a class="code" href="mrOperators_8h.html#a15">00173</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miColor&amp;  <a class="code" href="mrOperators_8h.html#a45">operator+=</a>( miColor&amp; a, <span class="keyword">const</span> miColor&amp; b )
00174 {
00175   a.r += b.r;  a.g += b.g;   a.b += b.b; 
00176   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00177 }
00178 
<a name="l00179"></a><a class="code" href="mrOperators_8h.html#a16">00179</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miColor&amp;  <a class="code" href="mrOperators_8h.html#a45">operator+=</a>( miColor&amp; a, <span class="keyword">const</span> miScalar b )
00180 {
00181   a.r += b;  a.g += b;   a.b += b; 
00182   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00183 }
00184 
00185 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00186"></a><a class="code" href="mrOperators_8h.html#a17">00186</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrOperators_8h.html#a45">operator+=</a>( miColor&amp; a,
00187                             <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00188 {
00189    a.r += static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0) );
00190    a.g += static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1) );
00191    a.b += static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) );
00192    <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00193 }
00194 
00195 
<a name="l00196"></a><a class="code" href="mrOperators_8h.html#a18">00196</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miColor&amp;  <a class="code" href="mrOperators_8h.html#a49">operator-=</a>( miColor&amp; a, <span class="keyword">const</span> miColor&amp; b )
00197 {
00198   a.r -= b.r;  a.g -= b.g;   a.b -= b.b; 
00199   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00200 }
00201 
<a name="l00202"></a><a class="code" href="mrOperators_8h.html#a19">00202</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miColor&amp;  <a class="code" href="mrOperators_8h.html#a49">operator-=</a>( miColor&amp; a, <span class="keyword">const</span> miScalar b )
00203 {
00204   a.r -= b;  a.g -= b;   a.b -= b; 
00205   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00206 }
00207 
00208 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00209"></a><a class="code" href="mrOperators_8h.html#a20">00209</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrOperators_8h.html#a49">operator-=</a>( miColor&amp; a,
00210                             <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00211 {
00212    a.r -= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0) );
00213    a.g -= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1) );
00214    a.b -= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) );
00215    <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00216 }
00217 
00218 
00219 
<a name="l00220"></a><a class="code" href="mrOperators_8h.html#a21">00220</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miColor&amp;  <a class="code" href="mrOperators_8h.html#a53">operator*=</a>( miColor&amp; a, <span class="keyword">const</span> miColor&amp; b )
00221 {
00222   a.r *= b.r;  a.g *= b.g;   a.b *= b.b; 
00223   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00224 }
00225 
<a name="l00226"></a><a class="code" href="mrOperators_8h.html#a22">00226</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miColor&amp;  <a class="code" href="mrOperators_8h.html#a53">operator*=</a>( miColor&amp; a, <span class="keyword">const</span> miScalar x )
00227 {
00228   a.r *= x;  a.g *= x;   a.b *= x; 
00229   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00230 }
00231 
00232 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00233"></a><a class="code" href="mrOperators_8h.html#a23">00233</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrOperators_8h.html#a53">operator*=</a>( miColor&amp; a,
00234                             <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00235 {
00236    a.r *= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0) );
00237    a.g *= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1) );
00238    a.b *= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) );
00239    <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00240 }
00241 
00242 
<a name="l00243"></a><a class="code" href="mrOperators_8h.html#a24">00243</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miColor&amp;  <a class="code" href="mrOperators_8h.html#a57">operator/=</a>( miColor&amp; a, <span class="keyword">const</span> miColor&amp; b )
00244 {
00245   a.r /= b.r;  a.g /= b.g;   a.b /= b.b; 
00246   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00247 }
00248 
00249 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00250"></a><a class="code" href="mrOperators_8h.html#a25">00250</a> <span class="keyword">inline</span>  miColor  <a class="code" href="mrOperators_8h.html#a57">operator/=</a>( miColor&amp; a,
00251                             <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00252 {
00253    a.r /= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0) );
00254    a.g /= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1) );
00255    a.b /= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) );
00256    <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00257 }
00258 
00259 
00260 <span class="preprocessor">#ifdef MR_DEBUG</span>
00261 <span class="preprocessor"></span><span class="preprocessor">#undef CHECK_NANS</span>
00262 <span class="preprocessor"></span><span class="preprocessor">#define CHECK_NANS \</span>
00263 <span class="preprocessor">   mrASSERT( !ISNAN(a.x) ); \</span>
00264 <span class="preprocessor">   mrASSERT( !ISNAN(a.y) ); \</span>
00265 <span class="preprocessor">   mrASSERT( !ISNAN(a.z) ); </span>
00266 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00267 <span class="preprocessor"></span>
<a name="l00268"></a><a class="code" href="mrOperators_8h.html#a26">00268</a> <span class="keyword">inline</span>  miVector  <a class="code" href="mrProfile_8h.html#a2">operator-</a>( <span class="keyword">const</span> miVector&amp; a )
00269 {
00270    miVector c = { -a.x, -a.y, -a.z };
00271    <span class="keywordflow">return</span> c;
00272 }
00273 
<a name="l00274"></a><a class="code" href="mrOperators_8h.html#a27">00274</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miVector&amp;  <a class="code" href="mrOperators_8h.html#a45">operator+=</a>( miVector&amp; a, <span class="keyword">const</span> miScalar b )
00275 {
00276   a.x += b; a.y += b; a.z += b;
00277   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00278 }
00279 
<a name="l00280"></a><a class="code" href="mrOperators_8h.html#a28">00280</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miVector&amp;  <a class="code" href="mrOperators_8h.html#a45">operator+=</a>( miVector&amp; a, <span class="keyword">const</span> miVector&amp; b )
00281 {
00282   a.x += b.x; a.y += b.y; a.z += b.z;
00283   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00284 }
00285 
00286 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00287"></a><a class="code" href="mrOperators_8h.html#a29">00287</a> <span class="keyword">inline</span>  miVector  <a class="code" href="mrOperators_8h.html#a45">operator+=</a>( miVector&amp; a,
00288                               <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00289 {
00290    a.x += static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0) );
00291    a.y += static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1) );
00292    a.z += static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) );
00293    <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00294 }
00295 
00296 
<a name="l00297"></a><a class="code" href="mrOperators_8h.html#a30">00297</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miVector&amp;  <a class="code" href="mrOperators_8h.html#a49">operator-=</a>( miVector&amp; a, <span class="keyword">const</span> miScalar b )
00298 {
00299   a.x -= b; a.y -= b; a.z -= b;
00300   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00301 }
00302 
<a name="l00303"></a><a class="code" href="mrOperators_8h.html#a31">00303</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miVector&amp;  <a class="code" href="mrOperators_8h.html#a49">operator-=</a>( miVector&amp; a, <span class="keyword">const</span> miVector&amp; b )
00304 {
00305   a.x -= b.x; a.y -= b.y; a.z -= b.z;
00306   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00307 }
00308 
00309 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00310"></a><a class="code" href="mrOperators_8h.html#a32">00310</a> <span class="keyword">inline</span>  miVector  <a class="code" href="mrOperators_8h.html#a49">operator-=</a>( miVector&amp; a,
00311                               <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00312 {
00313    a.x -= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0) );
00314    a.y -= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1) );
00315    a.z -= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) );
00316    <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00317 }
00318 
00319 
<a name="l00320"></a><a class="code" href="mrOperators_8h.html#a33">00320</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miVector&amp;  <a class="code" href="mrOperators_8h.html#a53">operator*=</a>( miVector&amp; a, <span class="keyword">const</span> miScalar b )
00321 {
00322   a.x *= b; a.y *= b; a.z *= b;
00323   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00324 }
00325 
00326 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00327"></a><a class="code" href="mrOperators_8h.html#a34">00327</a> <span class="keyword">inline</span>  miVector  <a class="code" href="mrOperators_8h.html#a53">operator*=</a>( miVector&amp; a,
00328                               <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00329 {
00330    a.x *= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0) );
00331    a.y *= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1) );
00332    a.z *= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) );
00333    <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00334 }
00335 
00336 
<a name="l00337"></a><a class="code" href="mrOperators_8h.html#a35">00337</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miVector&amp;  <a class="code" href="mrOperators_8h.html#a53">operator*=</a>( miVector&amp; a, <span class="keyword">const</span> miVector&amp; b )
00338 {
00339   a.x *= b.x; a.y *= b.y; a.z *= b.z;
00340   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00341 }
00342 
<a name="l00343"></a><a class="code" href="mrOperators_8h.html#a36">00343</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miVector&amp;  <a class="code" href="mrOperators_8h.html#a57">operator/=</a>( miVector&amp; a, <span class="keyword">const</span> miScalar b )
00344 {
00345   <span class="keyword">register</span> miScalar t = 1.0f / b;
00346   a.x *= t; a.y *= t; a.z *= t;
00347   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00348 }
00349 
<a name="l00350"></a><a class="code" href="mrOperators_8h.html#a37">00350</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miVector&amp;  <a class="code" href="mrOperators_8h.html#a57">operator/=</a>( miVector&amp; a, <span class="keyword">const</span> miVector&amp; b )
00351 {
00352   a.x /= b.x; a.y /= b.y; a.z /= b.z;
00353   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00354 }
00355 
00356 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00357"></a><a class="code" href="mrOperators_8h.html#a38">00357</a> <span class="keyword">inline</span>  miVector  <a class="code" href="mrOperators_8h.html#a57">operator/=</a>( miVector&amp; a,
00358                               <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00359 {
00360    a.x /= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0) );
00361    a.y /= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1) );
00362    a.z /= static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) );
00363    <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00364 }
00365 
00366 
<a name="l00367"></a><a class="code" href="mrOperators_8h.html#a39">00367</a> <span class="keyword">inline</span> miScalar <a class="code" href="mrOperators_8h.html#a71">operator%</a>( <span class="keyword">const</span> miVector&amp; a, <span class="keyword">const</span> miVector&amp; b )
00368 {
00369   <span class="keywordflow">return</span> a.x * b.x + a.y * b.y + a.z * b.z;
00370 }
00371 
00372 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00373"></a><a class="code" href="mrOperators_8h.html#a40">00373</a> <span class="keyword">inline</span>  miScalar  <a class="code" href="mrOperators_8h.html#a71">operator%</a>( <span class="keyword">const</span> miVector&amp; a,
00374                              <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00375 {
00376    <span class="keywordflow">return</span> ( a.x * b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0) + a.y * b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1) +
00377             a.z * b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) );
00378    
00379 }
00380 
00381 
00382 
00383 
<a name="l00384"></a><a class="code" href="mrOperators_8h.html#a41">00384</a> <span class="keyword">inline</span>  miGeoVector  <a class="code" href="mrProfile_8h.html#a2">operator-</a>( <span class="keyword">const</span> miGeoVector&amp; a )
00385 {
00386    miGeoVector c = { -a.x, -a.y, -a.z };
00387    <span class="keywordflow">return</span> c;
00388 }
00389 
<a name="l00390"></a><a class="code" href="mrOperators_8h.html#a42">00390</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miGeoVector&amp;  <a class="code" href="mrOperators_8h.html#a45">operator+=</a>( miGeoVector&amp; a, <span class="keyword">const</span> miGeoScalar b )
00391 {
00392   a.x += b; a.y += b; a.z += b;
00393   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00394 }
00395 
<a name="l00396"></a><a class="code" href="mrOperators_8h.html#a43">00396</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miGeoVector&amp;  <a class="code" href="mrOperators_8h.html#a45">operator+=</a>( miGeoVector&amp; a, <span class="keyword">const</span> miVector&amp; b )
00397 {
00398   a.x += b.x; a.y += b.y; a.z += b.z;
00399   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00400 }
00401 
<a name="l00402"></a><a class="code" href="mrOperators_8h.html#a44">00402</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miGeoVector&amp;  <a class="code" href="mrOperators_8h.html#a45">operator+=</a>( miGeoVector&amp; a, <span class="keyword">const</span> miGeoVector&amp; b )
00403 {
00404   a.x += b.x; a.y += b.y; a.z += b.z;
00405   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00406 }
00407 
00408 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00409"></a><a class="code" href="mrOperators_8h.html#a45">00409</a> <span class="keyword">inline</span>  miGeoVector  <a class="code" href="mrOperators_8h.html#a45">operator+=</a>( miGeoVector&amp; a,
00410                                  <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00411 {
00412    a.x -= b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0);
00413    a.y -= b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1);
00414    a.z -= b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2);
00415    <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00416 }
00417 
00418 
00419 
<a name="l00420"></a><a class="code" href="mrOperators_8h.html#a46">00420</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miGeoVector&amp;  <a class="code" href="mrOperators_8h.html#a49">operator-=</a>( miGeoVector&amp; a, <span class="keyword">const</span> miGeoScalar b )
00421 {
00422   a.x -= b; a.y -= b; a.z -= b;
00423   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00424 }
<a name="l00425"></a><a class="code" href="mrOperators_8h.html#a47">00425</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miGeoVector&amp;  <a class="code" href="mrOperators_8h.html#a49">operator-=</a>( miGeoVector&amp; a, <span class="keyword">const</span> miVector&amp; b )
00426 {
00427   a.x -= b.x; a.y -= b.y; a.z -= b.z;
00428   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00429 }
00430 
<a name="l00431"></a><a class="code" href="mrOperators_8h.html#a48">00431</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miGeoVector&amp;  <a class="code" href="mrOperators_8h.html#a49">operator-=</a>( miGeoVector&amp; a, <span class="keyword">const</span> miGeoVector&amp; b )
00432 {
00433   a.x -= b.x; a.y -= b.y; a.z -= b.z;
00434   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00435 }
00436 
00437 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00438"></a><a class="code" href="mrOperators_8h.html#a49">00438</a> <span class="keyword">inline</span>  miGeoVector  <a class="code" href="mrOperators_8h.html#a49">operator-=</a>( miGeoVector&amp; a,
00439                                  <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00440 {
00441    a.x -= b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0);
00442    a.y -= b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1);
00443    a.z -= b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2);
00444    <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00445 }
00446 
00447 
00448 
<a name="l00449"></a><a class="code" href="mrOperators_8h.html#a50">00449</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miGeoVector&amp;  <a class="code" href="mrOperators_8h.html#a53">operator*=</a>( miGeoVector&amp; a, <span class="keyword">const</span> miGeoScalar b )
00450 {
00451   a.x *= b; a.y *= b; a.z *= b;
00452   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00453 }
00454 
<a name="l00455"></a><a class="code" href="mrOperators_8h.html#a51">00455</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miGeoVector&amp;  <a class="code" href="mrOperators_8h.html#a53">operator*=</a>( miGeoVector&amp; a, <span class="keyword">const</span> miVector&amp; b )
00456 {
00457   a.x *= b.x; a.y *= b.y; a.z *= b.z;
00458   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00459 }
00460 
<a name="l00461"></a><a class="code" href="mrOperators_8h.html#a52">00461</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miGeoVector&amp;  <a class="code" href="mrOperators_8h.html#a53">operator*=</a>( miGeoVector&amp; a, <span class="keyword">const</span> miGeoVector&amp; b )
00462 {
00463   a.x *= b.x; a.y *= b.y; a.z *= b.z;
00464   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00465 }
00466 
00467 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00468"></a><a class="code" href="mrOperators_8h.html#a53">00468</a> <span class="keyword">inline</span>  miGeoVector  <a class="code" href="mrOperators_8h.html#a53">operator*=</a>( miGeoVector&amp; a,
00469                                  <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00470 {
00471    a.x *= b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0);
00472    a.y *= b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1);
00473    a.z *= b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2);
00474    <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00475 }
00476 
00477 
00478 
<a name="l00479"></a><a class="code" href="mrOperators_8h.html#a54">00479</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miGeoVector&amp;  <a class="code" href="mrOperators_8h.html#a57">operator/=</a>( miGeoVector&amp; a, <span class="keyword">const</span> miGeoScalar b )
00480 {
00481   <span class="keyword">register</span> miGeoScalar t = 1.0 / b;
00482   a.x *= t; a.y *= t; a.z *= t;
00483   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00484 }
00485 
<a name="l00486"></a><a class="code" href="mrOperators_8h.html#a55">00486</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miGeoVector&amp;  <a class="code" href="mrOperators_8h.html#a57">operator/=</a>( miGeoVector&amp; a, <span class="keyword">const</span> miVector&amp; b )
00487 {
00488   a.x /= b.x; a.y /= b.y; a.z /= b.z;
00489   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00490 }
00491 
<a name="l00492"></a><a class="code" href="mrOperators_8h.html#a56">00492</a> <span class="keyword">inline</span>  <span class="keyword">const</span> miGeoVector&amp;  <a class="code" href="mrOperators_8h.html#a57">operator/=</a>( miGeoVector&amp; a, <span class="keyword">const</span> miGeoVector&amp; b )
00493 {
00494   a.x /= b.x; a.y /= b.y; a.z /= b.z;
00495   <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00496 }
00497 
00498 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00499"></a><a class="code" href="mrOperators_8h.html#a57">00499</a> <span class="keyword">inline</span>  miGeoVector  <a class="code" href="mrOperators_8h.html#a57">operator/=</a>( miGeoVector&amp; a,
00500                                  <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00501 {
00502    a.x /= b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0);
00503    a.y /= b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1);
00504    a.z /= b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2);
00505    <a class="code" href="mrOperators_8h.html#a0">CHECK_NANS</a>; <span class="keywordflow">return</span> a;
00506 }
00507 
00508 
00509 
<a name="l00510"></a><a class="code" href="mrOperators_8h.html#a58">00510</a> <span class="keyword">inline</span> miGeoScalar <a class="code" href="mrOperators_8h.html#a71">operator%</a>( <span class="keyword">const</span> miVector&amp; a, <span class="keyword">const</span> miGeoVector&amp; b )
00511 {
00512   <span class="keywordflow">return</span> a.x * b.x + a.y * b.y + a.z * b.z;
00513 }
00514 
<a name="l00515"></a><a class="code" href="mrOperators_8h.html#a59">00515</a> <span class="keyword">inline</span> miGeoScalar <a class="code" href="mrOperators_8h.html#a71">operator%</a>( <span class="keyword">const</span> miGeoVector&amp; a, <span class="keyword">const</span> miVector&amp; b )
00516 {
00517   <span class="keywordflow">return</span> a.x * b.x + a.y * b.y + a.z * b.z;
00518 }
00519 
<a name="l00520"></a><a class="code" href="mrOperators_8h.html#a60">00520</a> <span class="keyword">inline</span> miGeoScalar <a class="code" href="mrOperators_8h.html#a71">operator%</a>( <span class="keyword">const</span> miGeoVector&amp; a, <span class="keyword">const</span> miGeoVector&amp; b )
00521 {
00522   <span class="keywordflow">return</span> a.x * b.x + a.y * b.y + a.z * b.z;
00523 }
00524 
00525 
00526 
00527 <span class="preprocessor">#undef CHECK_NANS</span>
00528 <span class="preprocessor"></span>
00529 <span class="comment">// Sadly, since all the mi* are structs, we cannot use return-value</span>
00530 <span class="comment">// optimization for all these non-reference operators...</span>
00531 <span class="keyword">template</span> &lt; <span class="keyword">typename</span> T &gt;
<a name="l00532"></a><a class="code" href="mrOperators_8h.html#a61">00532</a> <span class="keyword">inline</span> miVector <a class="code" href="mrProfile_8h.html#a1">operator+</a>( <span class="keyword">const</span> miVector&amp; a, <span class="keyword">const</span> T&amp; b )
00533 {
00534   miVector c( a ); c += b; <span class="keywordflow">return</span> c;
00535 }
00536 
00537 <span class="keyword">template</span> &lt; <span class="keyword">typename</span> T &gt;
<a name="l00538"></a><a class="code" href="mrOperators_8h.html#a62">00538</a> <span class="keyword">inline</span> miGeoVector <a class="code" href="mrProfile_8h.html#a1">operator+</a>( <span class="keyword">const</span> miGeoVector&amp; a, <span class="keyword">const</span> T&amp; b )
00539 {
00540   miGeoVector c( a ); c += b; <span class="keywordflow">return</span> c;
00541 }
00542 
00543 <span class="keyword">template</span> &lt; <span class="keyword">typename</span> T &gt;
<a name="l00544"></a><a class="code" href="mrOperators_8h.html#a63">00544</a> <span class="keyword">inline</span> miVector <a class="code" href="mrProfile_8h.html#a2">operator-</a>( <span class="keyword">const</span> miVector&amp; a, <span class="keyword">const</span> T&amp; b )
00545 {
00546   miVector c( a ); c -= b; <span class="keywordflow">return</span> c;
00547 }
00548 
00549 <span class="keyword">template</span> &lt; <span class="keyword">typename</span> T &gt;
<a name="l00550"></a><a class="code" href="mrOperators_8h.html#a64">00550</a> <span class="keyword">inline</span> miGeoVector <a class="code" href="mrProfile_8h.html#a2">operator-</a>( <span class="keyword">const</span> miGeoVector&amp; a, <span class="keyword">const</span> T&amp; b )
00551 {
00552   miGeoVector c( a ); c -= b; <span class="keywordflow">return</span> c;
00553 }
00554 
00555 
00556 
00557 <span class="keyword">template</span> &lt; <span class="keyword">typename</span> T &gt;
<a name="l00558"></a><a class="code" href="mrOperators_8h.html#a65">00558</a> <span class="keyword">inline</span> miVector <a class="code" href="mrOperators_8h.html#a68">operator*</a>( <span class="keyword">const</span> T&amp; b, <span class="keyword">const</span> miVector&amp; a )
00559 {
00560   miVector c( a ); c *= b; <span class="keywordflow">return</span> c;
00561 }
00562 
00563 <span class="keyword">template</span> &lt; <span class="keyword">typename</span> T &gt;
<a name="l00564"></a><a class="code" href="mrOperators_8h.html#a66">00564</a> <span class="keyword">inline</span> miVector <a class="code" href="mrOperators_8h.html#a68">operator*</a>( <span class="keyword">const</span> miVector&amp; a, <span class="keyword">const</span> T&amp; b )
00565 {
00566   miVector c( a ); c *= b; <span class="keywordflow">return</span> c;
00567 }
00568 
00569 <span class="keyword">template</span> &lt; <span class="keyword">typename</span> T &gt;
<a name="l00570"></a><a class="code" href="mrOperators_8h.html#a67">00570</a> <span class="keyword">inline</span> miGeoVector <a class="code" href="mrOperators_8h.html#a68">operator*</a>( <span class="keyword">const</span> T&amp; b, <span class="keyword">const</span> miGeoVector&amp; a )
00571 {
00572   miGeoVector c( a ); c *= b; <span class="keywordflow">return</span> c;
00573 }
00574 
00575 <span class="keyword">template</span> &lt; <span class="keyword">typename</span> T &gt;
<a name="l00576"></a><a class="code" href="mrOperators_8h.html#a68">00576</a> <span class="keyword">inline</span> miGeoVector <a class="code" href="mrOperators_8h.html#a68">operator*</a>( <span class="keyword">const</span> miGeoVector&amp; a, <span class="keyword">const</span> T&amp; b )
00577 {
00578   miGeoVector c( a ); c *= b; <span class="keywordflow">return</span> c;
00579 }
00580 
00581 
00582 
00583 <span class="keyword">template</span> &lt; <span class="keyword">typename</span> T &gt;
<a name="l00584"></a><a class="code" href="mrOperators_8h.html#a69">00584</a> <span class="keyword">inline</span> miVector <a class="code" href="mrOperators_8h.html#a70">operator/</a>( <span class="keyword">const</span> miVector&amp; a, <span class="keyword">const</span> T&amp; b )
00585 {
00586   miVector c( a ); c /= b; <span class="keywordflow">return</span> c;
00587 }
00588 
00589 <span class="keyword">template</span> &lt; <span class="keyword">typename</span> T &gt;
<a name="l00590"></a><a class="code" href="mrOperators_8h.html#a70">00590</a> <span class="keyword">inline</span> miGeoVector <a class="code" href="mrOperators_8h.html#a70">operator/</a>( <span class="keyword">const</span> miGeoVector&amp; a, <span class="keyword">const</span> T&amp; b )
00591 {
00592   miGeoVector c( a ); c /= b; <span class="keywordflow">return</span> c;
00593 }
00594 
00595 
00596 
00597 
00598 
00599 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00600"></a><a class="code" href="mrOperators_8h.html#a71">00600</a> <span class="keyword">inline</span>  miGeoScalar  <a class="code" href="mrOperators_8h.html#a71">operator%</a>( <span class="keyword">const</span> miGeoVector&amp; a,
00601                                 <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00602 {
00603    <span class="keywordflow">return</span> ( a.x * b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0) + a.y * b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1) +
00604             a.z * b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) );
00605    
00606 }
00607 
00608 
00609 
00610 
00611 
00612 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00613"></a><a class="code" href="mrOperators_8h.html#a72">00613</a> <span class="keyword">inline</span> miVector <a class="code" href="mrOperators_8h.html#a76">operator^</a>( <span class="keyword">const</span> miVector&amp; a,
00614                            <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00615 {
00616    miScalar x = static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0) );
00617    miScalar y = static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1) );
00618    miScalar z = static_cast&lt;miScalar&gt;( b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2) );
00619    miVector c = { a.y * z - a.z * y,
00620                   a.z * x - a.x * z,
00621                   a.x * y - a.y * x };
00622    <span class="keywordflow">return</span> c;
00623 }
00624 
<a name="l00625"></a><a class="code" href="mrOperators_8h.html#a73">00625</a> <span class="keyword">inline</span> miVector <a class="code" href="mrOperators_8h.html#a76">operator^</a>( <span class="keyword">const</span> miVector&amp; a, <span class="keyword">const</span> miVector&amp; b )
00626 {
00627   miVector c = { a.y * b.z - a.z * b.y,
00628                  a.z * b.x - a.x * b.z,
00629                  a.x * b.y - a.y * b.x };
00630   <span class="keywordflow">return</span> c;
00631 }
00632 
00633 
00634 
<a name="l00635"></a><a class="code" href="mrOperators_8h.html#a74">00635</a> <span class="keyword">inline</span> miGeoVector <a class="code" href="mrOperators_8h.html#a76">operator^</a>( <span class="keyword">const</span> miGeoVector&amp; a, <span class="keyword">const</span> miGeoVector&amp; b )
00636 {
00637   miGeoVector c = { a.y * b.z - a.z * b.y,
00638                     a.z * b.x - a.x * b.z,
00639                     a.x * b.y - a.y * b.x };
00640   <span class="keywordflow">return</span> c;
00641 }
00642 
00643 
<a name="l00644"></a><a class="code" href="mrOperators_8h.html#a75">00644</a> <span class="keyword">inline</span> miGeoVector <a class="code" href="mrOperators_8h.html#a76">operator^</a>( <span class="keyword">const</span> miGeoVector&amp; a, <span class="keyword">const</span> miVector&amp; b )
00645 {
00646   miGeoVector c = { a.y * b.z - a.z * b.y,
00647                     a.z * b.x - a.x * b.z,
00648                     a.x * b.y - a.y * b.x };
00649   <span class="keywordflow">return</span> c;
00650 }
00651 
00652 <span class="keyword">template</span>&lt; <span class="keyword">class</span> X, <span class="keyword">class</span> Y, <span class="keyword">class</span> Oper &gt;
<a name="l00653"></a><a class="code" href="mrOperators_8h.html#a76">00653</a> <span class="keyword">inline</span> miGeoVector <a class="code" href="mrOperators_8h.html#a76">operator^</a>( <span class="keyword">const</span> miGeoVector&amp; a,
00654                               <span class="keyword">const</span> <a class="code" href="classmr_1_1base_1_1exp.html">mr::base::exp&lt; X, Y, Oper&gt;</a>&amp; b )
00655 {
00656    miGeoScalar x = b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(0);
00657    miGeoScalar y = b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(1);
00658    miGeoScalar z = b.<a class="code" href="classmr_1_1base_1_1exp.html#a1">Evaluate</a>(2);
00659    miGeoVector c = { a.y * z - a.z * y, a.z * x - a.x * z,
00660                      a.x * y - a.y * x };
00661    <span class="keywordflow">return</span> c;
00662 }
00663 
00664 
00665 
00666 <span class="preprocessor">#endif // mrOperators_h</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun Feb 22 18:29:24 2004 for mrClasses by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>

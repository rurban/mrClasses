<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>mrClasses: mrPerlin.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>mrPerlin.h</h1><a href="mrPerlin_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//</span>
00002 <span class="comment">//  Copyright (c) 2004, Gonzalo Garramuno</span>
00003 <span class="comment">//</span>
00004 <span class="comment">//  All rights reserved.</span>
00005 <span class="comment">//</span>
00006 <span class="comment">//  Redistribution and use in source and binary forms, with or without</span>
00007 <span class="comment">//  modification, are permitted provided that the following conditions are</span>
00008 <span class="comment">//  met:</span>
00009 <span class="comment">//  *       Redistributions of source code must retain the above copyright</span>
00010 <span class="comment">//  notice, this list of conditions and the following disclaimer.</span>
00011 <span class="comment">//  *       Redistributions in binary form must reproduce the above</span>
00012 <span class="comment">//  copyright notice, this list of conditions and the following disclaimer</span>
00013 <span class="comment">//  in the documentation and/or other materials provided with the</span>
00014 <span class="comment">//  distribution.</span>
00015 <span class="comment">//  *       Neither the name of Gonzalo Garramuno nor the names of</span>
00016 <span class="comment">//  its other contributors may be used to endorse or promote products derived</span>
00017 <span class="comment">//  from this software without specific prior written permission. </span>
00018 <span class="comment">//</span>
00019 <span class="comment">//  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
00020 <span class="comment">//  "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
00021 <span class="comment">//  LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
00022 <span class="comment">//  A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
00023 <span class="comment">//  OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
00024 <span class="comment">//  SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
00025 <span class="comment">//  LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
00026 <span class="comment">//  DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
00027 <span class="comment">//  THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
00028 <span class="comment">//  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
00029 <span class="comment">//  OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
00030 <span class="comment">//</span>
00031 
00032 <span class="preprocessor">#ifndef mrPerlin_h</span>
00033 <span class="preprocessor"></span><span class="preprocessor">#define mrPerlin_h</span>
00034 <span class="preprocessor"></span>
00035 <span class="preprocessor">#ifndef mrMacros_h</span>
00036 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="mrMacros_8h.html">mrMacros.h</a>"</span>
00037 <span class="preprocessor">#endif</span>
00038 <span class="preprocessor"></span>
00039 <span class="preprocessor">#ifndef mrVector_h</span>
00040 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="mrVector_8h.html">mrVector.h</a>"</span>   <span class="comment">// for mr::point</span>
00041 <span class="preprocessor">#endif</span>
00042 <span class="preprocessor"></span>
00043 <span class="preprocessor">#ifndef mrMath_h</span>
00044 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="mrMath_8h.html">mrMath.h</a>"</span>     <span class="comment">// for math&lt;&gt;::floor</span>
00045 <span class="preprocessor">#endif</span>
00046 <span class="preprocessor"></span>
00047 
00048 <a class="code" href="mrMacros_8h.html#a0">BEGIN_NAMESPACE</a>( mr )
00049 
00050 
00051 
00052 
00053 
00054 
00055 
00056 
00057 
00058 
00059 
00060 
00063 
00065 
<a name="l00067"></a><a class="code" href="classmr_1_1SPerlin.html">00067</a> <span class="keyword">class </span><a class="code" href="classmr_1_1SPerlin.html">SPerlin</a>
00068 {
00069      <span class="keyword">static</span> <a class="code" href="mrWin32_8h.html#a0">MR_LIB_EXPORT</a> <span class="keywordtype">int</span> p[];
00070 
00071      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar fade(<span class="keyword">const</span> miScalar t) 
00072      { <span class="keywordflow">return</span> t * t * t * (t * (t * 6 - 15) + 10); }
00073 
00074      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<span class="keyword">const</span> miScalar t, <span class="keyword">const</span> miScalar a,
00075                                  <span class="keyword">const</span> miScalar b) 
00076      { <span class="keywordflow">return</span> a + t * (b - a); }
00077      
00078      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar grad(<span class="keyword">const</span> <span class="keywordtype">int</span> hashv, <span class="keyword">const</span> miScalar x) 
00079      {
00080         <span class="keyword">static</span> <span class="keyword">const</span> miScalar g[2] = 
00081         {
00082         -1, 1,
00083         };
00084         <span class="keywordtype">int</span> h = hashv &amp; 0x1;
00085         <span class="keywordflow">return</span> x * g[h];
00086      }
00087      
00088      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar grad(<span class="keyword">const</span> <span class="keywordtype">int</span> hashv, <span class="keyword">const</span> miScalar x, 
00089                                  <span class="keyword">const</span> miScalar y) 
00090      {
00091         <span class="keyword">static</span> <span class="keyword">const</span> miScalar g2[4][2] = 
00092         {
00093         { 1, 0},{-1, 0},{ 0, 1},{ 0, -1}, <span class="comment">// center of square to edges </span>
00094         };
00095 
00096         <span class="keywordtype">int</span> h = hashv &amp; 0x3;
00097         <span class="keywordflow">return</span> x * g2[h][0] + y * g2[h][1];
00098      }
00099 
00100      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar grad(<span class="keyword">const</span> <span class="keywordtype">int</span> hashv, <span class="keyword">const</span> miScalar x, 
00101                                  <span class="keyword">const</span> miScalar y, <span class="keyword">const</span> miScalar z) 
00102      {
00103         <span class="keyword">static</span> <span class="keyword">const</span> miScalar g3[16][3] = 
00104         {
00105         { 1, 1, 0},{-1, 1, 0},{ 1,-1, 0},{-1,-1, 0}, <span class="comment">// center of cube to edges </span>
00106         { 1, 0, 1},{-1, 0, 1},{ 1, 0,-1},{-1, 0,-1},
00107         { 0, 1, 1},{ 0,-1, 1},{ 0, 1,-1},{ 0,-1,-1},
00108         { 1, 1, 0},{-1, 1, 0},{ 0,-1, 1},{ 0,-1,-1}  <span class="comment">// tetrahedron</span>
00109         };
00110         <span class="keywordtype">int</span> h = hashv &amp; 15;
00111         <span class="keywordflow">return</span> x * g3[h][0] + y * g3[h][1] + z * g3[h][2];
00112      }
00113      
00114    <span class="keyword">public</span>:
<a name="l00115"></a><a class="code" href="classmr_1_1SPerlin.html#e0">00115</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(miScalar x)
00116      {
00117         <span class="keywordtype">int</span> xf= <a class="code" href="classmr_1_1fastmath.html">fastmath&lt;float&gt;::floor</a>(x);
00118         <span class="keywordtype">int</span> X = xf &amp; 255;
00119         x -= xf;
00120         miScalar <a class="code" href="mrRman__macros_8h.html#a9">u</a> = fade(x);
00121         <span class="keywordtype">int</span> A = p[X], B = p[X+1];
00122      
00123         <span class="keywordflow">return</span> <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[A], x  ),
00124                        grad(p[B], x-1));
00125      }
00126      
<a name="l00127"></a><a class="code" href="classmr_1_1SPerlin.html#e1">00127</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(miScalar x, miScalar y) 
00128      {
00129         <span class="keywordtype">int</span> xf = <a class="code" href="classmr_1_1fastmath.html">fastmath&lt;float&gt;::floor</a>(x);
00130         <span class="keywordtype">int</span> yf = fastmath&lt;float&gt;::floor(y);
00131         <span class="keywordtype">int</span> X = xf &amp; 255;         <span class="comment">// FIND UNIT CUBE THAT</span>
00132         <span class="keywordtype">int</span> Y = yf &amp; 255;         <span class="comment">// CONTAINS POINT.</span>
00133         x -= xf;                       <span class="comment">// FIND RELATIVE X,Y,Z</span>
00134         y -= yf;                       <span class="comment">// OF POINT IN CUBE.</span>
00135         miScalar <a class="code" href="mrRman__macros_8h.html#a9">u</a> = fade(x);          <span class="comment">// COMPUTE FADE CURVES</span>
00136         miScalar <a class="code" href="mrRman__macros_8h.html#a10">v</a> = fade(y);          <span class="comment">// FOR EACH OF X,Y,Z.</span>
00137         
00138         <span class="comment">// hash coordinates of the 4 square corners.</span>
00139         <span class="keywordtype">int</span> A = p[X]+Y, B = p[X+1]+Y;
00140         
00141         <span class="keywordflow">return</span> <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a10">v</a>, <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[A], x  , y  ),  <span class="comment">// AND ADD</span>
00142                                grad(p[B], x-1, y  )), <span class="comment">// BLENDED</span>
00143                        <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[A+1], x  , y-1  ),  <span class="comment">// RESULTS</span>
00144                                grad(p[B+1], x-1, y-1  )));
00145      }
00146 
<a name="l00147"></a><a class="code" href="classmr_1_1SPerlin.html#e2">00147</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(miScalar x, miScalar y, miScalar z) 
00148      {
00149         <span class="keywordtype">int</span> xf = <a class="code" href="classmr_1_1fastmath.html">fastmath&lt;float&gt;::floor</a>(x);
00150         <span class="keywordtype">int</span> yf = fastmath&lt;float&gt;::floor(y);
00151         <span class="keywordtype">int</span> zf = fastmath&lt;float&gt;::floor(z);
00152         <span class="keywordtype">int</span> X = xf &amp; 255;         <span class="comment">// FIND UNIT CUBE THAT</span>
00153         <span class="keywordtype">int</span> Y = yf &amp; 255;         <span class="comment">// CONTAINS POINT.</span>
00154         <span class="keywordtype">int</span> Z = zf &amp; 255;
00155         x -= xf;                       <span class="comment">// FIND RELATIVE X,Y,Z</span>
00156         y -= yf;                       <span class="comment">// OF POINT IN CUBE.</span>
00157         z -= zf;
00158         miScalar <a class="code" href="mrRman__macros_8h.html#a9">u</a> = fade(x);         <span class="comment">// COMPUTE FADE CURVES</span>
00159         miScalar <a class="code" href="mrRman__macros_8h.html#a10">v</a> = fade(y);         <span class="comment">// FOR EACH OF X,Y,Z.</span>
00160         miScalar w = fade(z);
00161         
00162         <span class="comment">// hash coordinates of the 8 cube corners.</span>
00163         <span class="comment">// This is an optimization of fold(i,j,k) = P[k + P[j + P[i]]]</span>
00164         <span class="comment">// with (X,Y,Z),(X+1,Y,Z),(X,Y+1,Z) ... etc.</span>
00165         <span class="keywordtype">int</span> A = p[X]+Y,   AA = p[A]+Z, AB = p[A+1]+Z,   <span class="comment">// HASH COORDINATES OF</span>
00166             B = p[X+1]+Y, BA = p[B]+Z, BB = p[B+1]+Z;   <span class="comment">// THE 8 CUBE CORNERS,</span>
00167      
00168         <span class="keywordflow">return</span> <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(w, <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a10">v</a>, <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[AA], x  , y  , z   ),  <span class="comment">// AND ADD</span>
00169                                     grad(p[BA], x-1, y  , z   )), <span class="comment">// BLENDED</span>
00170                             <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[AB], x  , y-1, z   ),  <span class="comment">// RESULTS</span>
00171                                  grad(p[BB], x-1, y-1, z   ))),<span class="comment">// FROM  8</span>
00172                     <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a10">v</a>, <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[AA+1], x  , y  , z-1 ),  <span class="comment">// CORNERS</span>
00173                                  grad(p[BA+1], x-1, y  , z-1 )), <span class="comment">// OF CUBE</span>
00174                          <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[AB+1], x  , y-1, z-1 ),
00175                               grad(p[BB+1], x-1, y-1, z-1 ))));
00176      }
00177 
00178 
<a name="l00179"></a><a class="code" href="classmr_1_1SPerlin.html#e3">00179</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(miScalar x, miScalar y,
00180                                    miScalar z, miScalar t) 
00181      {
00182         <span class="keywordtype">int</span> xf = <a class="code" href="classmr_1_1fastmath.html">fastmath&lt;float&gt;::floor</a>(x);
00183         <span class="keywordtype">int</span> yf = fastmath&lt;float&gt;::floor(y);
00184         <span class="keywordtype">int</span> zf = fastmath&lt;float&gt;::floor(z);
00185         <span class="keywordtype">int</span> tf = fastmath&lt;float&gt;::floor(t);
00186         <span class="keywordtype">int</span> X = xf &amp; 255;         <span class="comment">// FIND UNIT CUBE THAT</span>
00187         <span class="keywordtype">int</span> Y = yf &amp; 255;         <span class="comment">// CONTAINS POINT.</span>
00188         <span class="keywordtype">int</span> Z = zf &amp; 255;
00189         <span class="keywordtype">int</span> T = tf &amp; 255;
00190         x -= xf;                       <span class="comment">// FIND RELATIVE X,Y,Z,T</span>
00191         y -= yf;                       <span class="comment">// OF POINT IN CUBE.</span>
00192         z -= zf;
00193         t -= tf;
00194         miScalar <a class="code" href="mrRman__macros_8h.html#a9">u</a> = fade(x);          <span class="comment">// COMPUTE FADE CURVES</span>
00195         miScalar <a class="code" href="mrRman__macros_8h.html#a10">v</a> = fade(y);          <span class="comment">// FOR EACH OF X,Y,Z.</span>
00196         miScalar w = fade(z);
00197         miScalar s = fade(t);
00198         <span class="keywordtype">int</span> A = p[X]+Y,   AA = p[A]+Z, AB = p[A+1]+Z,  <span class="comment">// HASH COORDINATES OF</span>
00199         B = p[X+1]+Y, BA = p[B]+Z, BB = p[B+1]+Z,      <span class="comment">// THE 8 CUBE CORNERS,</span>
00200         AAA= p[A]+T, ABB= p[A+1]+T,
00201         BAA= p[B]+T, BBB= p[B+1]+T;     
00202      
00203         <span class="keywordflow">return</span> <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(s, 
00204                     <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(w, <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a10">v</a>, <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[AA  ], x  , y  , z   ),  <span class="comment">// AND ADD</span>
00205                                          grad(p[BA  ], x-1, y  , z   )), <span class="comment">// BLENDED</span>
00206                                  <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[AB  ], x  , y-1, z   ),  <span class="comment">// RESULTS</span>
00207                                       grad(p[BB  ], x-1, y-1, z   ))),<span class="comment">// FROM  8</span>
00208                          <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a10">v</a>, <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[AA+1], x  , y  , z-1 ),  <span class="comment">// CORNERS</span>
00209                                       grad(p[BA+1], x-1, y  , z-1 )), <span class="comment">// OF CUBE</span>
00210                               <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[AB+1], x  , y-1, z-1 ),
00211                                    grad(p[BB+1], x-1, y-1, z-1 )))),
00212                     <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(w, <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a10">v</a>, <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[AAA ],  x  , y  , t   ),  <span class="comment">// AND ADD</span>
00213                                          grad(p[BAA  ], x-1, y  , t   )), <span class="comment">// BLENDED</span>
00214                                  <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[ABB  ], x  , y-1, t   ),  <span class="comment">// RESULTS</span>
00215                                       grad(p[BBB  ], x-1, y-1, t   ))),<span class="comment">// FROM  8</span>
00216                          <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a10">v</a>, <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[AAA+1], x  , y  , t-1 ),  <span class="comment">// CORNERS</span>
00217                                       grad(p[BAA+1], x-1, y  , t-1 )), <span class="comment">// OF CUBE</span>
00218                               <a class="code" href="mrRman__notes_8h.html#a13">lerp</a>(<a class="code" href="mrRman__macros_8h.html#a9">u</a>, grad(p[ABB+1], x  , y-1, t-1 ),
00219                                    grad(p[BBB+1], x-1, y-1, t-1 ))))
00220                     );
00221      }
00222      
<a name="l00223"></a><a class="code" href="classmr_1_1SPerlin.html#e4">00223</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>( <span class="keyword">const</span> <a class="code" href="structmr_1_1base_1_1vec2.html">vector2d</a>&amp; P)
00224      {
00225         <span class="keywordflow">return</span> <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.u, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.v );
00226      }
00227      
<a name="l00228"></a><a class="code" href="classmr_1_1SPerlin.html#e5">00228</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P)
00229      {
00230         <span class="keywordflow">return</span> <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z );
00231      }
00232      
<a name="l00233"></a><a class="code" href="classmr_1_1SPerlin.html#e6">00233</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P, <span class="keyword">const</span> miScalar t)
00234      {
00235         <span class="keywordflow">return</span> <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z, t );
00236      }
00237      
00238 
00239 
00240      
<a name="l00241"></a><a class="code" href="classmr_1_1SPerlin.html#e7">00241</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar noise(<span class="keyword">const</span> miScalar x)
00242      {
00243         <span class="keywordflow">return</span> 0.5f + 0.5f * <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(x);
00244      }
<a name="l00245"></a><a class="code" href="classmr_1_1SPerlin.html#e8">00245</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar noise(<span class="keyword">const</span> miScalar x, <span class="keyword">const</span> miScalar y)
00246      {
00247         <span class="keywordflow">return</span> 0.5f + 0.5f * <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(x,y);
00248      }
<a name="l00249"></a><a class="code" href="classmr_1_1SPerlin.html#e9">00249</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar noise(<span class="keyword">const</span> miScalar x, <span class="keyword">const</span> miScalar y,
00250                                   <span class="keyword">const</span> miScalar z)
00251      {
00252         <span class="keywordflow">return</span> 0.5f + 0.5f * <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(x,y,z);
00253      }
00254      
<a name="l00255"></a><a class="code" href="classmr_1_1SPerlin.html#e10">00255</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar noise(<span class="keyword">const</span> miScalar x, <span class="keyword">const</span> miScalar y,
00256                                   <span class="keyword">const</span> miScalar z, <span class="keyword">const</span> miScalar t)
00257      {
00258         <span class="keywordflow">return</span> 0.5f + 0.5f * <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(x,y,z,t);
00259      }
00260      
<a name="l00261"></a><a class="code" href="classmr_1_1SPerlin.html#e11">00261</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar noise( <span class="keyword">const</span> <a class="code" href="structmr_1_1base_1_1vec2.html">vector2d</a>&amp; P)
00262      {
00263         <span class="keywordflow">return</span> 0.5f + 0.5f * <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.u, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.v );
00264      }
00265      
<a name="l00266"></a><a class="code" href="classmr_1_1SPerlin.html#e12">00266</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar noise(<span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P)
00267      {
00268         <span class="keywordflow">return</span> 0.5f + 0.5f * <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(<a class="code" href="mrRman__macros_8h.html#a3">P</a>);
00269      }
00270      
<a name="l00271"></a><a class="code" href="classmr_1_1SPerlin.html#e13">00271</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar noise(<span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P, <span class="keyword">const</span> miScalar t)
00272      {
00273         <span class="keywordflow">return</span> 0.5f + 0.5f * <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(<a class="code" href="mrRman__macros_8h.html#a3">P</a>, t);
00274      }
00275 
00276 
00277 
00278      
00279  
<a name="l00280"></a><a class="code" href="classmr_1_1SPerlin.html#e14">00280</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar pnoise(<span class="keyword">const</span> miScalar xi, <span class="keyword">const</span> miScalar period)
00281      {
00282         <span class="keyword">const</span> miScalar x = <a class="code" href="structmr_1_1math.html">math&lt;float&gt;::fmod</a>( xi, period ) + period * (xi &lt; 0);
00283 <span class="preprocessor">#define F(x)  noise(x)</span>
00284 <span class="preprocessor"></span>        <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( period != 0.0f );
00285         <span class="keywordflow">return</span> ( (period - x) * <a class="code" href="mrPerlin_8h.html#a0">F</a>(x) + x * <a class="code" href="mrPerlin_8h.html#a0">F</a>(x - period) ) / period;
00286 <span class="preprocessor">#undef F</span>
00287 <span class="preprocessor"></span>     }
00288 
<a name="l00289"></a><a class="code" href="classmr_1_1SPerlin.html#e15">00289</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar pnoise(<span class="keyword">const</span> miScalar xi, <span class="keyword">const</span> miScalar yi,
00290                                    <span class="keyword">const</span> miScalar w, <span class="keyword">const</span> miScalar h)
00291      {
00292         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( w != 0.0f );
00293         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( h != 0.0f );
00294         <span class="keyword">const</span> miScalar x = <a class="code" href="structmr_1_1math.html">math&lt;float&gt;::fmod</a>( xi, w ) + w * (xi &lt; 0);
00295         <span class="keyword">const</span> miScalar y = math&lt;float&gt;::fmod( yi, h ) + h * (yi &lt; 0);
00296 
00297         <span class="keyword">const</span> miScalar w_x = w - x;
00298         <span class="keyword">const</span> miScalar h_y = h - y;
00299         
00300         <span class="keyword">const</span> miScalar x_w = x - w;
00301         <span class="keyword">const</span> miScalar y_h = y - h;
00302         
00303 <span class="preprocessor">#define F(x,y)  noise(x,y)</span>
00304 <span class="preprocessor"></span>        <span class="keywordflow">return</span> (
00305                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y)     * (w_x) * (h_y) + 
00306                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y)   * (x)   * (h_y) + 
00307                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h) * (x)   * (y) + 
00308                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h)   * (w_x) * (y)
00309                 ) / (w * h);
00310 <span class="preprocessor">#undef F</span>
00311 <span class="preprocessor"></span>     }
00312      
<a name="l00313"></a><a class="code" href="classmr_1_1SPerlin.html#e16">00313</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar pnoise(<span class="keyword">const</span> miScalar xi, <span class="keyword">const</span> miScalar yi,
00314                                    <span class="keyword">const</span> miScalar zi, <span class="keyword">const</span> miScalar w,
00315                                    <span class="keyword">const</span> miScalar h, <span class="keyword">const</span> miScalar d)
00316      {
00317         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( w != 0.0f );
00318         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( h != 0.0f );
00319         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( d != 0.0f );
00320         
00321         <span class="keyword">const</span> miScalar x = <a class="code" href="structmr_1_1math.html">math&lt;float&gt;::fmod</a>( xi, w ) + w * (xi &lt; 0);
00322         <span class="keyword">const</span> miScalar y = math&lt;float&gt;::fmod( yi, h ) + h * (yi &lt; 0);
00323         <span class="keyword">const</span> miScalar z = math&lt;float&gt;::fmod( zi, d ) + d * (zi &lt; 0);
00324 
00325         <span class="keyword">const</span> miScalar w_x = w - x;
00326         <span class="keyword">const</span> miScalar h_y = h - y;
00327         <span class="keyword">const</span> miScalar d_z = d - z;
00328         
00329         <span class="keyword">const</span> miScalar x_w = x - w;
00330         <span class="keyword">const</span> miScalar y_h = y - h;
00331         <span class="keyword">const</span> miScalar z_d = z - d;
00332         
00333         <span class="keyword">const</span> miScalar xy = x * y;
00334         <span class="keyword">const</span> miScalar h_yXd_z = h_y * d_z;
00335         <span class="keyword">const</span> miScalar h_yXz = h_y * z;
00336         <span class="keyword">const</span> miScalar w_xXy = w_x * y;
00337 
00338 <span class="preprocessor">#define F(x,y,z)  noise(x,y,z)</span>
00339 <span class="preprocessor"></span>        <span class="keywordflow">return</span> (
00340                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y, z)       * (w_x) * h_yXd_z + 
00341                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h, z)     * w_xXy * (d_z) +
00342                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y, z)     * (x)   * h_yXd_z + 
00343                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h, z)   * (xy)  * (d_z) + 
00344                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h, z_d) * (xy)  * (z)   + 
00345                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y, z_d)     * (w_x) * h_yXz + 
00346                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h, z_d)   * w_xXy * (z)   + 
00347                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y, z_d)   * (x)   * h_yXz
00348                 ) / (w * h * d);
00349 <span class="preprocessor">#undef F</span>
00350 <span class="preprocessor"></span>     }
00351      
00352      
00353       
<a name="l00354"></a><a class="code" href="classmr_1_1SPerlin.html#e17">00354</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar pnoise(<span class="keyword">const</span> miScalar xi, <span class="keyword">const</span> miScalar yi,
00355                                    <span class="keyword">const</span> miScalar zi, <span class="keyword">const</span> miScalar ti,
00356                                    <span class="keyword">const</span> miScalar w, <span class="keyword">const</span> miScalar h,
00357                                    <span class="keyword">const</span> miScalar d, <span class="keyword">const</span> miScalar p)
00358      {
00359         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( w != 0.0f );
00360         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( h != 0.0f );
00361         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( d != 0.0f );
00362         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( p != 0.0f );
00363         
00364         <span class="keyword">const</span> miScalar x = <a class="code" href="structmr_1_1math.html">math&lt;float&gt;::fmod</a>( xi, w ) + w * (xi &lt; 0);
00365         <span class="keyword">const</span> miScalar y = math&lt;float&gt;::fmod( yi, h ) + h * (yi &lt; 0);
00366         <span class="keyword">const</span> miScalar z = math&lt;float&gt;::fmod( zi, d ) + d * (zi &lt; 0);
00367         <span class="keyword">const</span> miScalar t = math&lt;float&gt;::fmod( ti, p ) + p * (ti &lt; 0);
00368 
00369         <span class="keyword">const</span> miScalar w_x = w - x;
00370         <span class="keyword">const</span> miScalar h_y = h - y;
00371         <span class="keyword">const</span> miScalar d_z = d - z;
00372         <span class="keyword">const</span> miScalar p_t = p - t;
00373         
00374         <span class="keyword">const</span> miScalar x_w = x - w;
00375         <span class="keyword">const</span> miScalar y_h = y - h;
00376         <span class="keyword">const</span> miScalar z_d = z - d;
00377         <span class="keyword">const</span> miScalar t_p = t - p;
00378         
00379         <span class="keyword">const</span> miScalar xy = x * y;
00380         <span class="keyword">const</span> miScalar d_zXp_t = (d_z) * (p_t);
00381         <span class="keyword">const</span> miScalar zXp_t = z * (p_t);
00382         <span class="keyword">const</span> miScalar zXt = z * t;
00383         <span class="keyword">const</span> miScalar d_zXt = d_z * t;
00384         <span class="keyword">const</span> miScalar w_xXy = w_x * y;
00385         <span class="keyword">const</span> miScalar w_xXh_y = w_x * h_y;
00386         <span class="keyword">const</span> miScalar xXh_y = x * h_y;
00387 <span class="preprocessor">#define F(x,y,z,t)  noise(x,y,z,t)</span>
00388 <span class="preprocessor"></span>        <span class="keywordflow">return</span> (
00389                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y, z, t)         * (w_xXh_y) * d_zXp_t + 
00390                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y, z, t)       * (xXh_y)   * d_zXp_t + 
00391                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h, z, t)     * (xy)      * d_zXp_t + 
00392                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h, z, t)       * (w_xXy)   * d_zXp_t +
00393                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h, z_d, t)   * (xy)      * (zXp_t) + 
00394                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y, z_d, t)       * (w_xXh_y) * (zXp_t) + 
00395                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h, z_d, t)     * (w_xXy)   * (zXp_t) + 
00396                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y, z_d, t)     * (xXh_y)   * (zXp_t) + 
00397                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y, z, t_p)       * (w_xXh_y) * (d_zXt) + 
00398                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y, z, t_p)     * (xXh_y)   * (d_zXt) + 
00399                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h, z, t_p)   * (xy)      * (d_zXt) + 
00400                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h, z, t_p)     * (w_xXy)   * (d_zXt) +
00401                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h, z_d, t_p) * (xy)      * (zXt) + 
00402                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y, z_d, t_p)     * (w_xXh_y) * (zXt) + 
00403                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h, z_d, t_p)   * (w_xXy)   * (zXt) + 
00404                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y, z_d, t_p)   * (xXh_y)   * (zXt)
00405                 ) / (w * h * d * t);
00406 <span class="preprocessor">#undef F</span>
00407 <span class="preprocessor"></span>     }
00408 
<a name="l00409"></a><a class="code" href="classmr_1_1SPerlin.html#e18">00409</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar pnoise( <span class="keyword">const</span> <a class="code" href="structmr_1_1base_1_1vec2.html">vector2d</a>&amp; P,
00410                                     <span class="keyword">const</span> <a class="code" href="structmr_1_1base_1_1vec2.html">vector2d</a>&amp; period )
00411      {
00412         <span class="keywordflow">return</span> pnoise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.u, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.v, period.u, period.v );
00413      }
00414      
<a name="l00415"></a><a class="code" href="classmr_1_1SPerlin.html#e19">00415</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar pnoise( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P, <span class="keyword">const</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>&amp; period )
00416      {
00417         <span class="keywordflow">return</span> pnoise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z, period.x, period.y, period.z );
00418      }
00419 
<a name="l00420"></a><a class="code" href="classmr_1_1SPerlin.html#e20">00420</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar pnoise( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P, <span class="keyword">const</span> miScalar t,
00421                                     <span class="keyword">const</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>&amp; Pperiod,
00422                                     <span class="keyword">const</span> miScalar tperiod )
00423      {
00424         <span class="keywordflow">return</span> pnoise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z, t, Pperiod.x,
00425                        Pperiod.y, Pperiod.z, tperiod  );
00426      }
00427 
00428 
00429 
00430 
00431 
00432 
00433      
00434      
<a name="l00435"></a><a class="code" href="classmr_1_1SPerlin.html#e21">00435</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar spnoise(<span class="keyword">const</span> miScalar xi, <span class="keyword">const</span> miScalar period)
00436      {
00437         <span class="keyword">const</span> miScalar x = <a class="code" href="structmr_1_1math.html">math&lt;float&gt;::fmod</a>( xi, period ) + period * (xi &lt; 0);
00438 <span class="preprocessor">#define F(x)  snoise(x)</span>
00439 <span class="preprocessor"></span>        <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( period != 0.0f );
00440         <span class="keywordflow">return</span> ( (period - x) * <a class="code" href="mrPerlin_8h.html#a0">F</a>(x) + x * <a class="code" href="mrPerlin_8h.html#a0">F</a>(x - period) ) / period;
00441 <span class="preprocessor">#undef F</span>
00442 <span class="preprocessor"></span>     }
00443 
<a name="l00444"></a><a class="code" href="classmr_1_1SPerlin.html#e22">00444</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar spnoise(<span class="keyword">const</span> miScalar xi, <span class="keyword">const</span> miScalar yi,
00445                                     <span class="keyword">const</span> miScalar w, <span class="keyword">const</span> miScalar h)
00446      {
00447         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( w != 0.0f );
00448         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( h != 0.0f );
00449         <span class="keyword">const</span> miScalar x = <a class="code" href="structmr_1_1math.html">math&lt;float&gt;::fmod</a>( xi, w ) + w * (xi &lt; 0);
00450         <span class="keyword">const</span> miScalar y = math&lt;float&gt;::fmod( yi, h ) + h * (yi &lt; 0);
00451 
00452         <span class="keyword">const</span> miScalar w_x = w - x;
00453         <span class="keyword">const</span> miScalar h_y = h - y;
00454         
00455         <span class="keyword">const</span> miScalar x_w = x - w;
00456         <span class="keyword">const</span> miScalar y_h = y - h;
00457 <span class="preprocessor">#define F(x,y)  snoise(x,y)</span>
00458 <span class="preprocessor"></span>        <span class="keywordflow">return</span> (
00459                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y)     * (w_x) * (h_y) + 
00460                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y)   * (x)   * (h_y) + 
00461                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h) * (x)   * (y) + 
00462                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h)   * (w_x) * (y)
00463                 ) / (w * h);
00464 <span class="preprocessor">#undef F</span>
00465 <span class="preprocessor"></span>     }
00466      
<a name="l00467"></a><a class="code" href="classmr_1_1SPerlin.html#e23">00467</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar spnoise(<span class="keyword">const</span> miScalar xi, <span class="keyword">const</span> miScalar yi,
00468                                     <span class="keyword">const</span> miScalar zi,
00469                                     <span class="keyword">const</span> miScalar w, <span class="keyword">const</span> miScalar h,
00470                                     <span class="keyword">const</span> miScalar d)
00471      {
00472         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( w != 0.0f );
00473         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( h != 0.0f );
00474         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( d != 0.0f );
00475         <span class="keyword">const</span> miScalar x = <a class="code" href="structmr_1_1math.html">math&lt;float&gt;::fmod</a>( xi, w ) + w * (xi &lt; 0);
00476         <span class="keyword">const</span> miScalar y = math&lt;float&gt;::fmod( yi, h ) + h * (yi &lt; 0);
00477         <span class="keyword">const</span> miScalar z = math&lt;float&gt;::fmod( zi, d ) + d * (zi &lt; 0);
00478 
00479         <span class="keyword">const</span> miScalar w_x = w - x;
00480         <span class="keyword">const</span> miScalar h_y = h - y;
00481         <span class="keyword">const</span> miScalar d_z = d - z;
00482         
00483         <span class="keyword">const</span> miScalar x_w = x - w;
00484         <span class="keyword">const</span> miScalar y_h = y - h;
00485         <span class="keyword">const</span> miScalar z_d = z - d;
00486         
00487         <span class="keyword">const</span> miScalar xy = x * y;
00488         <span class="keyword">const</span> miScalar h_yXd_z = h_y * d_z;
00489         <span class="keyword">const</span> miScalar h_yXz = h_y * z;
00490         <span class="keyword">const</span> miScalar w_xXy = w_x * y;
00491 
00492 <span class="preprocessor">#define F(x,y,z)  snoise(x,y,z)</span>
00493 <span class="preprocessor"></span>        <span class="keywordflow">return</span> (
00494                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y, z)       * (w_x) * h_yXd_z + 
00495                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h, z)     * w_xXy * (d_z) +
00496                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y, z)     * (x)   * h_yXd_z + 
00497                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h, z)   * (xy)  * (d_z) + 
00498                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h, z_d) * (xy)  * (z)   + 
00499                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y, z_d)     * (w_x) * h_yXz + 
00500                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h, z_d)   * w_xXy * (z)   + 
00501                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y, z_d)   * (x)   * h_yXz
00502                 ) / (w * h * d);
00503 <span class="preprocessor">#undef F</span>
00504 <span class="preprocessor"></span>     }
00505      
00506      
00507       
<a name="l00508"></a><a class="code" href="classmr_1_1SPerlin.html#e24">00508</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar spnoise(<span class="keyword">const</span> miScalar xi, <span class="keyword">const</span> miScalar yi,
00509                                     <span class="keyword">const</span> miScalar zi, <span class="keyword">const</span> miScalar ti,
00510                                     <span class="keyword">const</span> miScalar w, <span class="keyword">const</span> miScalar h,
00511                                     <span class="keyword">const</span> miScalar d, <span class="keyword">const</span> miScalar p)
00512      {
00513         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( w != 0.0f );
00514         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( h != 0.0f );
00515         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( d != 0.0f );
00516         <a class="code" href="mrAssert_8h.html#a0">mrASSERT</a>( p != 0.0f );
00517         <span class="keyword">const</span> miScalar x = <a class="code" href="structmr_1_1math.html">math&lt;float&gt;::fmod</a>( xi, w ) + w * (xi &lt; 0);
00518         <span class="keyword">const</span> miScalar y = math&lt;float&gt;::fmod( yi, h ) + h * (yi &lt; 0);
00519         <span class="keyword">const</span> miScalar z = math&lt;float&gt;::fmod( zi, d ) + d * (zi &lt; 0);
00520         <span class="keyword">const</span> miScalar t = math&lt;float&gt;::fmod( ti, p ) + p * (ti &lt; 0);
00521 
00522         <span class="keyword">const</span> miScalar w_x = w - x;
00523         <span class="keyword">const</span> miScalar h_y = h - y;
00524         <span class="keyword">const</span> miScalar d_z = d - z;
00525         <span class="keyword">const</span> miScalar p_t = p - t;
00526         
00527         <span class="keyword">const</span> miScalar x_w = x - w;
00528         <span class="keyword">const</span> miScalar y_h = y - h;
00529         <span class="keyword">const</span> miScalar z_d = z - d;
00530         <span class="keyword">const</span> miScalar t_p = t - p;
00531         
00532         <span class="keyword">const</span> miScalar xy = x * y;
00533         <span class="keyword">const</span> miScalar d_zXp_t = (d_z) * (p_t);
00534         <span class="keyword">const</span> miScalar zXp_t = z * (p_t);
00535         <span class="keyword">const</span> miScalar zXt = z * t;
00536         <span class="keyword">const</span> miScalar d_zXt = d_z * t;
00537         <span class="keyword">const</span> miScalar w_xXy = w_x * y;
00538         <span class="keyword">const</span> miScalar w_xXh_y = w_x * h_y;
00539         <span class="keyword">const</span> miScalar xXh_y = x * h_y;
00540 <span class="preprocessor">#define F(x,y,z,t)  snoise(x,y,z,t)</span>
00541 <span class="preprocessor"></span>        <span class="keywordflow">return</span> (
00542                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y, z, t)         * (w_xXh_y) * d_zXp_t + 
00543                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y, z, t)       * (xXh_y)   * d_zXp_t + 
00544                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h, z, t)     * (xy)      * d_zXp_t + 
00545                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h, z, t)       * (w_xXy)   * d_zXp_t +
00546                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h, z_d, t)   * (xy)      * (zXp_t) + 
00547                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y, z_d, t)       * (w_xXh_y) * (zXp_t) + 
00548                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h, z_d, t)     * (w_xXy)   * (zXp_t) + 
00549                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y, z_d, t)     * (xXh_y)   * (zXp_t) + 
00550                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y, z, t_p)       * (w_xXh_y) * (d_zXt) + 
00551                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y, z, t_p)     * (xXh_y)   * (d_zXt) + 
00552                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h, z, t_p)   * (xy)      * (d_zXt) + 
00553                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h, z, t_p)     * (w_xXy)   * (d_zXt) +
00554                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y_h, z_d, t_p) * (xy)      * (zXt) + 
00555                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y, z_d, t_p)     * (w_xXh_y) * (zXt) + 
00556                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x, y_h, z_d, t_p)   * (w_xXy)   * (zXt) + 
00557                 <a class="code" href="mrPerlin_8h.html#a0">F</a>(x_w, y, z_d, t_p)   * (xXh_y)   * (zXt)
00558                 ) / (w * h * d * t);
00559 <span class="preprocessor">#undef F</span>
00560 <span class="preprocessor"></span>     }
00561 
<a name="l00562"></a><a class="code" href="classmr_1_1SPerlin.html#e25">00562</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar spnoise( <span class="keyword">const</span> <a class="code" href="structmr_1_1base_1_1vec2.html">vector2d</a>&amp; P,
00563                                      <span class="keyword">const</span> <a class="code" href="structmr_1_1base_1_1vec2.html">vector2d</a>&amp; period )
00564      {
00565         <span class="keywordflow">return</span> spnoise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.u, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.v, period.u, period.v );
00566      }
00567      
<a name="l00568"></a><a class="code" href="classmr_1_1SPerlin.html#e26">00568</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar spnoise( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P,
00569                                      <span class="keyword">const</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>&amp; period )
00570      {
00571         <span class="keywordflow">return</span> spnoise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z, period.x, period.y, period.z );
00572      }
00573 
<a name="l00574"></a><a class="code" href="classmr_1_1SPerlin.html#e27">00574</a>      <span class="keyword">inline</span> <span class="keyword">static</span> miScalar spnoise( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P, <span class="keyword">const</span> miScalar t,
00575                                      <span class="keyword">const</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>&amp; Pperiod,
00576                                      <span class="keyword">const</span> miScalar tperiod )
00577      {
00578         <span class="keywordflow">return</span> spnoise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z, t, Pperiod.x,
00579                         Pperiod.y, Pperiod.z, tperiod  );
00580      }
00581 
00582 }; <span class="comment">// SPerlin</span>
00583 
00584 
00585 
00586 
00587 
<a name="l00589"></a><a class="code" href="classmr_1_1VPerlin.html">00589</a> <span class="keyword">class </span><a class="code" href="classmr_1_1VPerlin.html">VPerlin</a>
00590 {
00591      <span class="comment">// Offsets to consider for each x,y,z channel</span>
00592 
<a name="l00593"></a><a class="code" href="mrPerlin_8h.html#a8">00593</a> <span class="preprocessor">#define P1x     0.34f</span>
<a name="l00594"></a><a class="code" href="mrPerlin_8h.html#a9">00594</a> <span class="preprocessor"></span><span class="preprocessor">#define P1y     0.66f</span>
<a name="l00595"></a><a class="code" href="mrPerlin_8h.html#a10">00595</a> <span class="preprocessor"></span><span class="preprocessor">#define P1z     0.237f</span>
00596 <span class="preprocessor"></span>
<a name="l00597"></a><a class="code" href="mrPerlin_8h.html#a11">00597</a> <span class="preprocessor">#define P2x     0.011f</span>
<a name="l00598"></a><a class="code" href="mrPerlin_8h.html#a12">00598</a> <span class="preprocessor"></span><span class="preprocessor">#define P2y     0.845f</span>
<a name="l00599"></a><a class="code" href="mrPerlin_8h.html#a13">00599</a> <span class="preprocessor"></span><span class="preprocessor">#define P2z     0.037f</span>
00600 <span class="preprocessor"></span>
<a name="l00601"></a><a class="code" href="mrPerlin_8h.html#a14">00601</a> <span class="preprocessor">#define P3x     0.34f</span>
<a name="l00602"></a><a class="code" href="mrPerlin_8h.html#a15">00602</a> <span class="preprocessor"></span><span class="preprocessor">#define P3y     0.12f</span>
<a name="l00603"></a><a class="code" href="mrPerlin_8h.html#a16">00603</a> <span class="preprocessor"></span><span class="preprocessor">#define P3z     0.9f</span>
00604 <span class="preprocessor"></span>
00605    <span class="keyword">public</span>:
<a name="l00606"></a><a class="code" href="classmr_1_1VPerlin.html#e0">00606</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(miScalar x)
00607      {
00608         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::snoise(x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a> ),
00609                        SPerlin::snoise(x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a> ),
00610                        SPerlin::snoise(x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a> ) );
00611      }
00612      
<a name="l00613"></a><a class="code" href="classmr_1_1VPerlin.html#e1">00613</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(miScalar x, miScalar y) 
00614      {
00615         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::snoise(x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, y+<a class="code" href="mrPerlin_8h.html#a9">P1y</a> ),
00616                        SPerlin::snoise(x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, y+<a class="code" href="mrPerlin_8h.html#a12">P2y</a> ),
00617                        SPerlin::snoise(x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, y+<a class="code" href="mrPerlin_8h.html#a15">P3y</a> ) );
00618      }
00619 
<a name="l00620"></a><a class="code" href="classmr_1_1VPerlin.html#e2">00620</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(miScalar x, miScalar y, miScalar z) 
00621      {
00622         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::snoise(x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, y+<a class="code" href="mrPerlin_8h.html#a9">P1y</a>, z+<a class="code" href="mrPerlin_8h.html#a10">P1z</a> ),
00623                        SPerlin::snoise(x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, y+<a class="code" href="mrPerlin_8h.html#a12">P2y</a>, z+<a class="code" href="mrPerlin_8h.html#a13">P2z</a> ),
00624                        SPerlin::snoise(x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, y+<a class="code" href="mrPerlin_8h.html#a15">P3y</a>, z+<a class="code" href="mrPerlin_8h.html#a16">P3z</a> ) );
00625      }
00626 
00627 
<a name="l00628"></a><a class="code" href="classmr_1_1VPerlin.html#e3">00628</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>(miScalar x, miScalar y,
00629                                  miScalar z, miScalar t) 
00630      {
00631         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::snoise( x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, y+<a class="code" href="mrPerlin_8h.html#a9">P1y</a>, z+<a class="code" href="mrPerlin_8h.html#a10">P1z</a>, t ),
00632                        SPerlin::snoise( x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, y+<a class="code" href="mrPerlin_8h.html#a12">P2y</a>, z+<a class="code" href="mrPerlin_8h.html#a13">P2z</a>, t ),
00633                        SPerlin::snoise( x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, y+<a class="code" href="mrPerlin_8h.html#a15">P3y</a>, z+<a class="code" href="mrPerlin_8h.html#a16">P3z</a>, t ) );
00634      }
00635      
<a name="l00636"></a><a class="code" href="classmr_1_1VPerlin.html#e4">00636</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>( <span class="keyword">const</span> <a class="code" href="structmr_1_1base_1_1vec2.html">vector2d</a>&amp; P)
00637      {
00638         <span class="keywordflow">return</span> <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.u, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.v );
00639      }
00640      
<a name="l00641"></a><a class="code" href="classmr_1_1VPerlin.html#e5">00641</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P)
00642      {
00643         <span class="keywordflow">return</span> <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z );
00644      }
00645      
<a name="l00646"></a><a class="code" href="classmr_1_1VPerlin.html#e6">00646</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P, <span class="keyword">const</span> miScalar t)
00647      {
00648         <span class="keywordflow">return</span> <a class="code" href="mrRman__notes_8h.html#a14">snoise</a>( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z, t );
00649      }
00650      
00651 
00652 
00653 
00654 
<a name="l00655"></a><a class="code" href="classmr_1_1VPerlin.html#e7">00655</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> noise(miScalar x)
00656      {
00657         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::noise(x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a> ),
00658                        SPerlin::noise(x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a> ),
00659                        SPerlin::noise(x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a> ) );
00660      }
00661      
<a name="l00662"></a><a class="code" href="classmr_1_1VPerlin.html#e8">00662</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> noise(miScalar x, miScalar y) 
00663      {
00664         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::noise(x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, y+<a class="code" href="mrPerlin_8h.html#a9">P1y</a> ),
00665                        SPerlin::noise(x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, y+<a class="code" href="mrPerlin_8h.html#a12">P2y</a> ),
00666                        SPerlin::noise(x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, y+<a class="code" href="mrPerlin_8h.html#a15">P3y</a> ) );
00667      }
00668 
<a name="l00669"></a><a class="code" href="classmr_1_1VPerlin.html#e9">00669</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> noise(miScalar x, miScalar y, miScalar z) 
00670      {
00671         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::noise(x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, y+<a class="code" href="mrPerlin_8h.html#a9">P1y</a>, z+<a class="code" href="mrPerlin_8h.html#a10">P1z</a> ),
00672                        SPerlin::noise(x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, y+<a class="code" href="mrPerlin_8h.html#a12">P2y</a>, z+<a class="code" href="mrPerlin_8h.html#a13">P2z</a> ),
00673                        SPerlin::noise(x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, y+<a class="code" href="mrPerlin_8h.html#a15">P3y</a>, z+<a class="code" href="mrPerlin_8h.html#a16">P3z</a> ) );
00674      }
00675 
00676 
<a name="l00677"></a><a class="code" href="classmr_1_1VPerlin.html#e10">00677</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> noise(miScalar x, miScalar y,
00678                                 miScalar z, miScalar t) 
00679      {
00680         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::noise( x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, y+<a class="code" href="mrPerlin_8h.html#a9">P1y</a>, z+<a class="code" href="mrPerlin_8h.html#a10">P1z</a>, t ),
00681                        SPerlin::noise( x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, y+<a class="code" href="mrPerlin_8h.html#a12">P2y</a>, z+<a class="code" href="mrPerlin_8h.html#a13">P2z</a>, t ),
00682                        SPerlin::noise( x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, y+<a class="code" href="mrPerlin_8h.html#a15">P3y</a>, z+<a class="code" href="mrPerlin_8h.html#a16">P3z</a>, t ) );
00683      }
00684      
<a name="l00685"></a><a class="code" href="classmr_1_1VPerlin.html#e11">00685</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> noise( <span class="keyword">const</span> <a class="code" href="structmr_1_1base_1_1vec2.html">vector2d</a>&amp; P)
00686      {
00687         <span class="keywordflow">return</span> noise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.u, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.v );
00688      }
00689      
<a name="l00690"></a><a class="code" href="classmr_1_1VPerlin.html#e12">00690</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> noise( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P)
00691      {
00692         <span class="keywordflow">return</span> noise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z );
00693      }
00694      
<a name="l00695"></a><a class="code" href="classmr_1_1VPerlin.html#e13">00695</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> noise( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P, <span class="keyword">const</span> miScalar t)
00696      {
00697         <span class="keywordflow">return</span> noise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z, t );
00698      }
00699      
00700      
00701 
00702  
<a name="l00703"></a><a class="code" href="classmr_1_1VPerlin.html#e14">00703</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> pnoise(<span class="keyword">const</span> miScalar x, <span class="keyword">const</span> miScalar period)
00704      {
00705         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::pnoise(x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, period ),
00706                        SPerlin::pnoise(x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, period ),
00707                        SPerlin::pnoise(x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, period ) );
00708      }
00709 
<a name="l00710"></a><a class="code" href="classmr_1_1VPerlin.html#e15">00710</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> pnoise(<span class="keyword">const</span> miScalar x, <span class="keyword">const</span> miScalar y,
00711                                  <span class="keyword">const</span> miScalar w, <span class="keyword">const</span> miScalar h)
00712      {
00713         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::pnoise(x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, y+<a class="code" href="mrPerlin_8h.html#a9">P1y</a>, w, h ),
00714                        SPerlin::pnoise(x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, y+<a class="code" href="mrPerlin_8h.html#a12">P2y</a>, w, h ),
00715                        SPerlin::pnoise(x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, y+<a class="code" href="mrPerlin_8h.html#a15">P3y</a>, w, h ) );
00716      }
00717      
<a name="l00718"></a><a class="code" href="classmr_1_1VPerlin.html#e16">00718</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> pnoise(<span class="keyword">const</span> miScalar x, <span class="keyword">const</span> miScalar y,
00719                                  <span class="keyword">const</span> miScalar z,
00720                                  <span class="keyword">const</span> miScalar w, <span class="keyword">const</span> miScalar h,
00721                                  <span class="keyword">const</span> miScalar d)
00722      {
00723         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::pnoise(x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, y+<a class="code" href="mrPerlin_8h.html#a9">P1y</a>, z+<a class="code" href="mrPerlin_8h.html#a10">P1z</a>, w, h, d ),
00724                        SPerlin::pnoise(x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, y+<a class="code" href="mrPerlin_8h.html#a12">P2y</a>, z+<a class="code" href="mrPerlin_8h.html#a13">P2z</a>, w, h, d ),
00725                        SPerlin::pnoise(x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, y+<a class="code" href="mrPerlin_8h.html#a15">P3y</a>, z+<a class="code" href="mrPerlin_8h.html#a16">P3z</a>, w, h, d ) );
00726      }
00727      
00728      
00729       
<a name="l00730"></a><a class="code" href="classmr_1_1VPerlin.html#e17">00730</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> pnoise(<span class="keyword">const</span> miScalar x, <span class="keyword">const</span> miScalar y,
00731                                  <span class="keyword">const</span> miScalar z, <span class="keyword">const</span> miScalar t,
00732                                  <span class="keyword">const</span> miScalar w, <span class="keyword">const</span> miScalar h,
00733                                  <span class="keyword">const</span> miScalar d, <span class="keyword">const</span> miScalar p)
00734      {
00735         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::pnoise( x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, y+<a class="code" href="mrPerlin_8h.html#a9">P1y</a>, z+<a class="code" href="mrPerlin_8h.html#a10">P1z</a>, t, w, h, d, p ),
00736                        SPerlin::pnoise( x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, y+<a class="code" href="mrPerlin_8h.html#a12">P2y</a>, z+<a class="code" href="mrPerlin_8h.html#a13">P2z</a>, t, w, h, d, p ),
00737                        SPerlin::pnoise( x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, y+<a class="code" href="mrPerlin_8h.html#a15">P3y</a>, z+<a class="code" href="mrPerlin_8h.html#a16">P3z</a>, t, w, h, d, p )
00738                       );
00739      }
00740 
<a name="l00741"></a><a class="code" href="classmr_1_1VPerlin.html#e18">00741</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> pnoise( <span class="keyword">const</span> <a class="code" href="structmr_1_1base_1_1vec2.html">vector2d</a>&amp; P,
00742                                   <span class="keyword">const</span> <a class="code" href="structmr_1_1base_1_1vec2.html">vector2d</a>&amp; period )
00743      {
00744         <span class="keywordflow">return</span> pnoise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.u, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.v, period.u, period.v );
00745      }
00746      
<a name="l00747"></a><a class="code" href="classmr_1_1VPerlin.html#e19">00747</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> pnoise( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P, <span class="keyword">const</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>&amp; period )
00748      {
00749         <span class="keywordflow">return</span> pnoise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z, period.x, period.y, period.z );
00750      }
00751 
<a name="l00752"></a><a class="code" href="classmr_1_1VPerlin.html#e20">00752</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> pnoise( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P, <span class="keyword">const</span> miScalar t,
00753                                   <span class="keyword">const</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>&amp; Pperiod,
00754                                   <span class="keyword">const</span> miScalar tperiod )
00755      {
00756         <span class="keywordflow">return</span> pnoise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z, t,
00757                        Pperiod.x, Pperiod.y, Pperiod.z, tperiod );
00758      }
00759 
00760 
00761 
00762 
00763 
00764  
<a name="l00765"></a><a class="code" href="classmr_1_1VPerlin.html#e21">00765</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> spnoise(<span class="keyword">const</span> miScalar x, <span class="keyword">const</span> miScalar period)
00766      {
00767         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::spnoise(x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, period ),
00768                        SPerlin::spnoise(x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, period ),
00769                        SPerlin::spnoise(x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, period ) );
00770      }
00771 
<a name="l00772"></a><a class="code" href="classmr_1_1VPerlin.html#e22">00772</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> spnoise(<span class="keyword">const</span> miScalar x, <span class="keyword">const</span> miScalar y,
00773                                   <span class="keyword">const</span> miScalar w, <span class="keyword">const</span> miScalar h)
00774      {
00775         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::spnoise(x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, y+<a class="code" href="mrPerlin_8h.html#a9">P1y</a>, w, h ),
00776                        SPerlin::spnoise(x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, y+<a class="code" href="mrPerlin_8h.html#a12">P2y</a>, w, h ),
00777                        SPerlin::spnoise(x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, y+<a class="code" href="mrPerlin_8h.html#a15">P3y</a>, w, h ) );
00778      }
00779      
<a name="l00780"></a><a class="code" href="classmr_1_1VPerlin.html#e23">00780</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> spnoise(<span class="keyword">const</span> miScalar x, <span class="keyword">const</span> miScalar y,
00781                                   <span class="keyword">const</span> miScalar z, <span class="keyword">const</span> miScalar w,
00782                                   <span class="keyword">const</span> miScalar h, <span class="keyword">const</span> miScalar d)
00783      {
00784         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::spnoise(x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, y+<a class="code" href="mrPerlin_8h.html#a9">P1y</a>, z+<a class="code" href="mrPerlin_8h.html#a10">P1z</a>, w, h, d ),
00785                        SPerlin::spnoise(x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, y+<a class="code" href="mrPerlin_8h.html#a12">P2y</a>, z+<a class="code" href="mrPerlin_8h.html#a13">P2z</a>, w, h, d ),
00786                        SPerlin::spnoise(x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, y+<a class="code" href="mrPerlin_8h.html#a15">P3y</a>, z+<a class="code" href="mrPerlin_8h.html#a16">P3z</a>, w, h, d ) );
00787      }
00788      
00789      
00790       
<a name="l00791"></a><a class="code" href="classmr_1_1VPerlin.html#e24">00791</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> spnoise(<span class="keyword">const</span> miScalar x, <span class="keyword">const</span> miScalar y,
00792                                   <span class="keyword">const</span> miScalar z, <span class="keyword">const</span> miScalar t,
00793                                   <span class="keyword">const</span> miScalar w, <span class="keyword">const</span> miScalar h,
00794                                   <span class="keyword">const</span> miScalar d, <span class="keyword">const</span> miScalar p)
00795      {
00796         <span class="keywordflow">return</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>( SPerlin::spnoise( x+<a class="code" href="mrPerlin_8h.html#a8">P1x</a>, y+<a class="code" href="mrPerlin_8h.html#a9">P1y</a>, z+<a class="code" href="mrPerlin_8h.html#a10">P1z</a>, t, w, h, d, p ),
00797                        SPerlin::spnoise( x+<a class="code" href="mrPerlin_8h.html#a11">P2x</a>, y+<a class="code" href="mrPerlin_8h.html#a12">P2y</a>, z+<a class="code" href="mrPerlin_8h.html#a13">P2z</a>, t, w, h, d, p ),
00798                        SPerlin::spnoise( x+<a class="code" href="mrPerlin_8h.html#a14">P3x</a>, y+<a class="code" href="mrPerlin_8h.html#a15">P3y</a>, z+<a class="code" href="mrPerlin_8h.html#a16">P3z</a>, t, w, h, d, p )
00799                       );
00800      }
00801 
<a name="l00802"></a><a class="code" href="classmr_1_1VPerlin.html#e25">00802</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> spnoise( <span class="keyword">const</span> <a class="code" href="structmr_1_1base_1_1vec2.html">vector2d</a>&amp; P, <span class="keyword">const</span> <a class="code" href="structmr_1_1base_1_1vec2.html">vector2d</a>&amp; period )
00803      {
00804         <span class="keywordflow">return</span> spnoise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.u, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.v, period.u, period.v );
00805      }
00806      
<a name="l00807"></a><a class="code" href="classmr_1_1VPerlin.html#e26">00807</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> spnoise( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P, <span class="keyword">const</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>&amp; period )
00808      {
00809         <span class="keywordflow">return</span> spnoise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z, period.x, period.y, period.z );
00810      }
00811 
<a name="l00812"></a><a class="code" href="classmr_1_1VPerlin.html#e27">00812</a>      <span class="keyword">inline</span> <span class="keyword">static</span> <a class="code" href="structmr_1_1vec__base.html">vector</a> spnoise( <span class="keyword">const</span> <a class="code" href="structmr_1_1point__base.html">point</a>&amp; P, <span class="keyword">const</span> miScalar t,
00813                                    <span class="keyword">const</span> <a class="code" href="structmr_1_1vec__base.html">vector</a>&amp; Pperiod,
00814                                    <span class="keyword">const</span> miScalar tperiod )
00815      {
00816         <span class="keywordflow">return</span> spnoise( <a class="code" href="mrRman__macros_8h.html#a3">P</a>.x, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.y, <a class="code" href="mrRman__macros_8h.html#a3">P</a>.z, t,
00817                         Pperiod.x, Pperiod.y, Pperiod.z, tperiod );
00818      }
00819 
00820 <span class="preprocessor">#undef  P1x</span>
00821 <span class="preprocessor"></span><span class="preprocessor">#undef  P1y</span>
00822 <span class="preprocessor"></span><span class="preprocessor">#undef  P1z</span>
00823 <span class="preprocessor"></span>
00824 <span class="preprocessor">#undef  P2x</span>
00825 <span class="preprocessor"></span><span class="preprocessor">#undef  P2y</span>
00826 <span class="preprocessor"></span><span class="preprocessor">#undef  P2z</span>
00827 <span class="preprocessor"></span>
00828 <span class="preprocessor">#undef  P3x</span>
00829 <span class="preprocessor"></span><span class="preprocessor">#undef  P3y</span>
00830 <span class="preprocessor"></span><span class="preprocessor">#undef  P3z</span>
00831 <span class="preprocessor"></span>
00832 };  <span class="comment">// VPerlin</span>
00833 
00834 
00835 <a class="code" href="mrMacros_8h.html#a1">END_NAMESPACE</a>( mr )
00836 
00837 
00838 #endif <span class="comment">// mrPerlin_h</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun Feb 22 18:29:24 2004 for mrClasses by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
